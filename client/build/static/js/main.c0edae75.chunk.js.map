{"version":3,"sources":["DatabaseModule.js","registration-page/RegistrationModule.js","home-page/HomeModule.js","profile-page/ProfileModule.js","groups-page/GroupsModule.js","notifications-page/NotificationModule.js","invitations-page/InvitationModule.js","profile-page/deactivate-account-page/DeactivateModule.js","analytics-page/AnalyticsModule.js","flagged-posts/FlaggedPostsModule.js","login-page/LoginForm.js","registration-page/RegistrationForm.js","login-page/ChangePasswordForm.js","login-page/LoginPage.js","home-page/Home.js","profile-page/ProfilePage.js","groups-page/Groups.js","notifications-page/NotificationPage.js","profile-page/UpdatePassword.js","UploadModule.js","view-group-page/ViewGroupModule.js","view-group-page/ViewGroup.js","invitations-page/InvitationPage.js","profile-page/deactivate-account-page/DeactivateAccountPage.js","messages-page/MessagesModule.js","messages-page/Messages.js","conversation-page/ConversationModule.js","conversation-page/Conversation.js","analytics-page/AnalyticsPage.js","flagged-posts/FlaggedPosts.js","MainPage.js","reportWebVitals.js","index.js","login-page/LoginModule.js"],"names":["sendPostRequest","url","body","a","fetch","method","mode","headers","JSON","stringify","then","response","json","result","res","console","log","sendUploadPostRequest","sendPutRequest","sendGetRequest","params","fullURL","id","sendDeleteRequest","sendBodiedDeleteRequest","sendGetGroupsRequest","module","exports","createHash","require","database","validatePassword","changeState","password1","password2","link","createAccount","username","newUser","user_name","user_password","update","digest","undefined","err","getFilterOptions","setFilters","topics","getFilteredGroups","filter","sort","groups","changeSelectedFilter","updateSelected","document","getElementById","value","resetSelectedSort","changeSelectedSort","resetSelected","parseFilters","filters","output","i","length","parseFilteredGroups","selected","element","firstChild","removeChild","group","groupId","group_id","groupName","group_name","groupDescription","group_description","isPublic","is_public","topicsLst","forEach","topic","groupBlock","div","createElement","innerHTML","onclick","viewingGroup","appendChild","getPostsComments","posts","commentPromiseContainer","postComments","post_id","push","Promise","all","commentFulfilledContainer","postsArray","comments","getProfile","userId","profile","getNamesFromDB","postsToSet","userIdsToRetrieve","j","indexOf","user_id","profilePromiseContainer","commenterProfile","profileFulfilledContainer","profilesToReturn","postsToReturn","idToFind","index","map","firstName","first_name","lastName","last_name","name","getUserPosts","userPosts","postsArrayWithNames","sendReply","postId","commentTxt","updateUserPosts","replyBody","comment_txt","callPostReply","getRegistrationDate","userLst","registrationDate","registration_date","slice","createGroup","groupCreator","topic1","topic2","topic3","newGroup","group_creator","topic_1","topic_2","topic_3","getGroups","getGroupMemberships","getAdmins","requestJoinGroup","updateMessage","groupMembers","groupInvitations","groupAdmins","member_id","to_user_id","admin_id","newRequestObj","fromUserId","toUserId","invitationStatus","getNonMemberPublicGroups","groupMemberships","groupMembershipsSimplifiedArray","publicGroupsUserNotIn","includes","nonMemberPublicGroups","getRandomNum","num","Math","floor","random","suggestGroup","potentialSuggestions","numPotentialSuggestions","choice","suggestedGroup","parseGroups","admins","filteredGroups","adminLst","admin","getNotifications","getInvitationsToReview","invitationsToReview","getPendingInvitations","getGroupNames","invitations","groupNamePromises","groupNameArray","invitationsLocal","putDecline","invitationId","newStatus","declineInvite","invitationName","updateInvitations","acceptHTTP","invitationURL","invitationBody","resultInv","acceptInvite","invitation","invitation_id","approveInvite","invReview","updateInvitationsToReview","groupMembershipURL","postBody","approveNotifURL","approvedNotifBody","notification","isRead","msg","notApproveInvite","deleteOpenInvitations","urlStem","deleteGroupMemberships","deleteAdminRoles","deleteProfileInfo","deleteUserInfo","deactivateAccount","getGroupAnalyticsFacts","groupAnalyticsFacts","getPostAnalyticsFacts","postAnalyticsFacts","getFlaggedPostsForReview","state","flaggedPosts","finishFlag","flag","deleted","flaggerId","flaggerName","author","posting_username","parseFlaggedPosts","flagged","post","postingUser","caption","content","photourl","audioUrl","videoUrl","postBlock","postDiv","lib","LoginForm","props","addAttempt","attempt","message","className","window","location","href","split","pop","htmlFor","type","placeholder","to","onClick","verifyUser","RegistrationForm","ChangePasswordForm","changePassword","LoginPage","useState","input","Home","selectedFilter","updateSelectedFilter","selectedSort","updateSelectedSort","useEffect","onKeyDown","role","tabIndex","ProfilePage","biography","profile_picture_url","userProfile","setUserProfile","setUserPosts","setRegoDate","profileToSet","regoDate","src","alt","comment","Groups","setMessage","setAllGroups","nonMemberGroups","setNonMemberGroups","setSuggestedGroup","updateGroups","groups2","nonMemberGroupsResolved","newSuggestedGroup","newMessage","NotificationPage","notifs","setNotifs","updateNotifs","n","Date","parse","date","getMonth","getDate","getFullYear","getHours","getMinutes","is_read","pass1","pass2","userPassword","reqBody","changeBio","newBio","changeProfilePic","picUrl","profilePictureURL","apiUrl","showMessage","UpdatePassword","mutateMessage","Axios","getGroup","revokeAdmin","groupAndAdmins","setGroupAndAdmins","addAdmin","adminUser","isCreator","inviteNonAdmin","toUserName","leaveGroup","uploadMediaPost","postGroup","updateState","postingUsername","file","files","size","data","FormData","append","mediaUrl","newPost","post_group","posting_user","createPost","getPosts","flagPost","hidePost","deletePost","adminNames","user","userName","alert","notifBody","flagReply","replyId","hideReply","deleteReply","editReply","setEditComment","createReply","newReply","getReplies","parsePosts","parseReplies","replies","editComment","reply","reply_id","replyUser","replyBlock","replyDiv","parseOnclicks","replyButton","flagPostButton","hidePostButton","deletePostButton","flagReplyButton","hideReplyButton","deleteReplyButton","editReplyButton","ViewGroup","allPosts","setAllPosts","updatePosts","createPostObject","setAllReplies","updateReplies","updates","toShow","is_creator","processAdmins","multiple","accept","InvitationPage","pendingInvitations","setPendingInvitations","setInvitationsToReview","updatePendingInvitations","fetchedInvitationsToReview","inv","DeactivateAccountPage","getConvos","convoInfo","otherId","otherName","user1","user2","user2Name","user1Name","parseConvos","convos","convoBlock","viewingConvo","convoId","otherUserId","uploadMediaConvo","updateMessages","resp","toId","fromId","senderName","receiverName","img","video","audio","startConvo","txt","Messages","updateMsgs","getMessages","parseMessages","msgs","isDeliveredDateFormat","isDelivered","isReadDateFormat","sendMessage","updateConvo","Conversation","scrollTop","scrollHeight","updateFacts","setGroupFacts","setPostFacts","newGroupFacts","newPostFacts","AnalyticsPage","groupFacts","postFacts","fact","FlaggedPosts","MainPage","history","pushState","oldState","last","first","conditionallyRender","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","password"],"mappings":"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","file":"static/js/main.c0edae75.chunk.js","sourcesContent":["const sendPostRequest = async function sendPostRequest(url, body) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR');\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendUploadPostRequest = async function sendUploadPostRequest(url, body) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'POST',\r\n      mode: 'no-cors',\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n      body,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log(err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendPutRequest = async function sendPutRequest(url, body) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'PUT',\r\n      mode: 'cors',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR');\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendGetRequest = async function sendGetRequest(url, params) {\r\n  try {\r\n    const fullURL = url + (typeof params !== 'undefined' ? JSON.stringify(params.id) : '');\r\n    const res = await fetch(fullURL, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      // body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR getting resource - from db module');\r\n    // eslint-disable-next-line\r\n    console.log(err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendDeleteRequest = async function sendDeleteRequest(url) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'DELETE',\r\n      mode: 'cors',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR deleting request');\r\n    // eslint-disable-next-line\r\n    console.log(err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendBodiedDeleteRequest = async function sendBodiedDeleteRequest(url, body) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'DELETE',\r\n      mode: 'cors',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR');\r\n    return null;\r\n  }\r\n};\r\n\r\nconst sendGetGroupsRequest = async function sendGetGroupsRequest(url) {\r\n  try {\r\n    const res = await fetch(url)\r\n      .then((response) => response.json())\r\n      .then((result) => result);\r\n    return res;\r\n  } catch (err) {\r\n    // eslint-disable-next-line\r\n    console.log('ERROR');\r\n    return null;\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  sendPostRequest,\r\n  sendGetRequest,\r\n  sendPutRequest,\r\n  sendGetGroupsRequest,\r\n  sendDeleteRequest,\r\n  sendBodiedDeleteRequest,\r\n  sendUploadPostRequest,\r\n};\r\n","const { createHash } = require('crypto');\nconst database = require('../DatabaseModule');\n\nconst validatePassword = (changeState, password1, password2, link) => {\n  if (password1 !== password2) {\n    changeState({ link });\n    return false;\n  }\n  return true;\n};\n\nconst createAccount = async (changeState, username, password1, password2) => {\n  if (validatePassword(changeState, password1, password2, '/registration/invalid')) {\n    // username is not taken, we can create the account and empty profile!\n    const newUser = {\n      user_name: username,\n      user_password: createHash('sha256').update(password1).digest('hex'),\n    };\n    const response = await database.sendPostRequest('/registration', newUser);\n    if (response.err === undefined) {\n      changeState({ link: '/' });\n    } else {\n      changeState({ link: '/registration/user' });\n    }\n  }\n};\n\nmodule.exports = {\n  validatePassword,\n  createAccount,\n};\n","const database = require('../DatabaseModule');\n\nconst changeSelectedFilter = (updateSelected) => {\n  updateSelected(document.getElementById('topics').value);\n};\n\nconst changeSelectedSort = (updateSelected) => {\n  updateSelected(document.getElementById('sorts').value);\n};\n\nconst resetSelectedSort = (updateSelected) => {\n  updateSelected('none');\n};\n\nconst resetSelected = (updateSelected) => {\n  updateSelected('');\n};\n\nconst getFilterOptions = async (setFilters) => {\n  const topics = await database.sendGetRequest('/topics');\n  setFilters(topics.topics);\n};\n\nconst parseFilters = (filters) => {\n  let output = '';\n  for (let i = 0; i < filters.length; i += 1) {\n    output += `<option value=${filters[i]} name=${filters[i]}>${filters[i]}</option>`;\n  }\n  return output;\n};\n\nconst getFilteredGroups = async (filter, sort) => {\n  let groups = {};\n  if (filter === '') {\n    groups = await database.sendGetRequest(`/topics/all/${sort}`);\n  } else {\n    groups = await database.sendGetRequest(`/topics/${filter}/none`);\n  }\n  return groups.groups;\n};\n\nconst parseFilteredGroups = (groups, changeState, selected) => {\n  // remove all children in the box\n  const element = document.getElementById('groups-area');\n\n  if (element) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  // then add all the groups\n  for (let i = 0; i < groups[0].length; i += 1) {\n    const group = groups[0][i];\n    const groupId = group.group_id;\n    const groupName = group.group_name;\n    const groupDescription = group.group_description;\n    const isPublic = (group.is_public === 1) ? 'Public' : 'Private';\n\n    let topicsLst = '';\n    if (group.topics) {\n      const list = group.topics;\n      list.forEach((topic) => {\n        topicsLst += (topicsLst === '' ? `${topic}` : `, ${topic}`);\n      });\n    } else {\n      topicsLst = selected;\n    }\n\n    // eslint-disable-next-line prefer-template\n    const groupBlock = '<div class=\"group-container\">'\n    + '<div class=\"group-info\">'\n    + '<ul>'\n    + '<li id=\"group-id\">Group Id: '\n    + groupId\n    + '</li>'\n    + '<li id=\"group-name\">Group Name: '\n    + groupName\n    + ' </li>'\n    + '<li id=\"group-description\">Group Description: '\n    + groupDescription\n    + '</li>'\n    + '<li id=\"topics\">Topics: '\n    + topicsLst\n    + '</li>'\n    + '<li id=\"is-public\">'\n    + isPublic\n    + '</li>'\n    + '</ul>'\n    + '</div>'\n    + '<button class=\"join-button\"> View Group </button>'\n    + '</div>';\n\n    const div = document.createElement('div');\n    div.innerHTML = groupBlock;\n    div.onclick = () => {\n      changeState({ link: '/viewgroup', viewingGroup: groupId });\n    };\n\n    document.getElementById('groups-area').appendChild(div);\n  }\n};\n\nmodule.exports = {\n  changeSelectedFilter,\n  resetSelectedSort,\n  changeSelectedSort,\n  resetSelected,\n  parseFilters,\n  getFilterOptions,\n  getFilteredGroups,\n  parseFilteredGroups,\n};\n","const database = require('../DatabaseModule');\n\n// get comments for a post\nconst getPostsComments = async (posts) => {\n  // iterate through each post, requesting its comments. Wait for all promises to resolve.\n  const commentPromiseContainer = [];\n  for (let i = 0; i < posts.length; i += 1) {\n    // need to implement a get comments function first\n    const postComments = database.sendGetRequest('/comment/', { id: posts[i].post_id });\n    commentPromiseContainer.push(postComments);\n  }\n  const commentFulfilledContainer = await Promise.all(commentPromiseContainer);\n\n  // assign the comments to each post in the array to hand back\n  const postsArray = posts;\n  for (let i = 0; i < commentFulfilledContainer.length; i += 1) {\n    postsArray[i].comments = commentFulfilledContainer[i];\n  }\n  // return the array of posts which now each have the additional 'comments' property\n  // comments property is itself an array of comment objects\n  return postsArray;\n};\n\nconst getProfile = async (userId) => {\n  const profile = await database.sendGetRequest('/profile/', { id: userId });\n  return profile;\n};\n\nconst getNamesFromDB = async (postsToSet) => {\n  // set up array of unique userIds for which to retrieve names from Db\n  const userIdsToRetrieve = [];\n\n  // loop through and get the userIds of the comment-makers\n  for (let i = 0; i < postsToSet.length; i += 1) {\n    // console.log('in get outerloop names, postsToSet[i].comments are: ', postsToSet[i].comments);\n    for (let j = 0; j < postsToSet[i].comments.length; j += 1) {\n      if (userIdsToRetrieve.indexOf(postsToSet[i].comments[j].user_id) === -1) {\n        userIdsToRetrieve.push(postsToSet[i].comments[j].user_id);\n        // console.log('pushing ', postsToSet[i].comments[j].user_id, 'to userIdsToRetrieve');\n      }\n    }\n  }\n\n  // get the names associated with all the userIds needed on the page\n  // console.log('about to go populate promise container with ', userIdsToRetrieve);\n  const profilePromiseContainer = [];\n  for (let i = 0; i < userIdsToRetrieve.length; i += 1) {\n    const commenterProfile = getProfile(userIdsToRetrieve[i]);\n    // console.log(' about to push ', commenterProfile, ' onto the profilePromiseContainer');\n    profilePromiseContainer.push(commenterProfile);\n  }\n\n  const profileFulfilledContainer = await Promise.all(profilePromiseContainer);\n\n  // taking one level off the array - not sure why it's got an extra nesting?\n  const profilesToReturn = [];\n  for (let i = 0; i < profileFulfilledContainer.length; i += 1) {\n    profilesToReturn.push(profileFulfilledContainer[i][0][0]);\n  }\n\n  // attach the names to each comment\n  const postsToReturn = postsToSet;\n  for (let i = 0; i < postsToReturn.length; i += 1) {\n    for (let j = 0; j < postsToReturn[i].comments.length; j += 1) {\n      // const index = profilesToReturn.userId.indexOf(postsToReturn[i][j].user_id);\n      const idToFind = postsToReturn[i].comments[j].user_id;\n      const index = profilesToReturn.map((profile) => (profile.user_id)).indexOf(idToFind);\n      const firstName = profilesToReturn[index].first_name;\n      const lastName = profilesToReturn[index].last_name;\n      postsToReturn[i].comments[j].name = `${firstName} ${lastName}`;\n      // console.log('just assigned sally at postsToReturn[i].comments[j] of\n      // ', postsToReturn[i].comments[j]);\n    }\n  }\n\n  return postsToReturn;\n};\n\n// get posts to display and their associated comments\nconst getUserPosts = async (userId) => {\n  // get posts\n  const userPosts = await database.sendGetRequest('/post/', { id: userId });\n\n  // get comments\n  const postsArray = await getPostsComments(userPosts);\n\n  // get / attach the names to each comment\n  const postsArrayWithNames = await getNamesFromDB(postsArray);\n\n  return postsArrayWithNames;\n};\n\nconst sendReply = async (postId, userId, commentTxt, updateUserPosts) => {\n  const replyBody = {\n    post_id: postId,\n    user_id: userId,\n    comment_txt: document.getElementById(`post_${postId}`).value,\n  };\n\n  const callPostReply = await database.sendPostRequest('/comment/', replyBody);\n\n  updateUserPosts();\n  return callPostReply;\n\n  // this structure in a Javascript Object: post_id: req.body.post_id,\n  //    user_id: req.body.user_id,\n  //    comment_txt: req.body.comment_txt,\n  // (8, 6, 9, \"That's THEFT!\")\n};\n\nconst getRegistrationDate = async (userId) => {\n  // eslint-disable-next-line no-console\n  console.log('at ProfileModule/getRegistrationDate with userId', userId);\n  const userLst = await database.sendGetRequest('/user/', { id: userId });\n  // eslint-disable-next-line no-console\n  console.log('back from sendGetRequest, with userLst of:', userLst);\n  const registrationDate = userLst[0].registration_date.slice(0, 10);\n  return registrationDate;\n};\n\nmodule.exports = {\n  getUserPosts,\n  getProfile,\n  sendReply,\n  getRegistrationDate,\n  getPostsComments,\n  getNamesFromDB,\n};\n","const database = require('../DatabaseModule');\r\n\r\nconst createGroup = async (\r\n  changeState,\r\n  groupName,\r\n  groupCreator,\r\n  groupDescription,\r\n  isPublic,\r\n  topic1,\r\n  topic2,\r\n  topic3,\r\n) => {\r\n  const newGroup = {\r\n    group_name: groupName,\r\n    group_creator: groupCreator,\r\n    group_description: groupDescription,\r\n    is_public: isPublic,\r\n    topic_1: topic1,\r\n    topic_2: topic2,\r\n    topic_3: topic3,\r\n  };\r\n\r\n  const response = await database.sendPostRequest('/groups', newGroup);\r\n  if (response.err === undefined) {\r\n    changeState({ link: '/groups' });\r\n  } else {\r\n    changeState({ link: '/error' });\r\n  }\r\n};\r\n\r\nconst getGroups = async (changeState) => {\r\n  const response = await database.sendGetGroupsRequest('/groups');\r\n  if (response.err === undefined) {\r\n    changeState({ link: '/groups' });\r\n  } else {\r\n    changeState({ link: '/error' });\r\n  }\r\n\r\n  return response;\r\n};\r\n\r\nconst getGroupMemberships = async (userId) => {\r\n  const response = await database.sendGetRequest(`/membership-of-user/${userId}`);\r\n  return response;\r\n};\r\n\r\nconst getAdmins = async () => {\r\n  const response = await database.sendGetRequest('/admins');\r\n\r\n  return response;\r\n};\r\n\r\nconst parseGroups = (changeState, groups, admins, groupMemberships) => {\r\n  // remove all children in the box\r\n  const element = document.getElementById('groups-area');\r\n\r\n  if (element) {\r\n    while (element.firstChild) {\r\n      element.removeChild(element.firstChild);\r\n    }\r\n  }\r\n\r\n  const groupMembershipsSimplifiedArray = [];\r\n  for (let i = 0; i < groupMemberships.length; i += 1) {\r\n    groupMembershipsSimplifiedArray.push(groupMemberships[i].group_id);\r\n  }\r\n\r\n  // filter groups to only be those in which the user is a member\r\n  const filteredGroups = [];\r\n  for (let i = 0; i < groups.length; i += 1) {\r\n    const groupId = groups[i].group_id;\r\n    if (groupMembershipsSimplifiedArray.includes(groupId)) {\r\n      filteredGroups.push(groups[i]);\r\n    }\r\n  }\r\n\r\n  // then add all the groups\r\n  for (let i = 0; i < filteredGroups.length; i += 1) {\r\n    const group = filteredGroups[i];\r\n\r\n    let adminLst = '';\r\n    const list = admins[group.group_id];\r\n    list.forEach((admin) => {\r\n      adminLst += (adminLst === '' ? `${admin}` : `, ${admin}`);\r\n    });\r\n\r\n    const groupId = group.group_id;\r\n    const groupName = group.group_name;\r\n    const groupDescription = group.group_description;\r\n    const isPublic = (group.is_public === 1) ? 'Public' : 'Private';\r\n\r\n    // eslint-disable-next-line prefer-template\r\n    const groupBlock = '<div class=\"group-container\">'\r\n    + '<div class=\"group-info\">'\r\n    + '<ul>'\r\n    + '<li id=\"group-id\">Group Id: '\r\n    + groupId\r\n    + '</li>'\r\n    + '<li id=\"group-name\">Group Name: '\r\n    + groupName\r\n    + ' </li>'\r\n    + '<li id=\"group-description\">Group Description: '\r\n    + groupDescription\r\n    + '</li>'\r\n    + '<li id=\"group-admins\">Admins: '\r\n    + adminLst\r\n    + '</li>'\r\n    + '<li id=\"is-public\">'\r\n    + isPublic\r\n    + '</li>'\r\n    + '</ul>'\r\n    + '</div>'\r\n    + '<button class=\"join-button\"> View Group </button>'\r\n    + '</div>';\r\n\r\n    const div = document.createElement('div');\r\n    div.innerHTML = groupBlock;\r\n    div.onclick = () => {\r\n      changeState({ link: '/viewgroup', viewingGroup: groupId });\r\n    };\r\n\r\n    document.getElementById('groups-area').appendChild(div);\r\n  }\r\n};\r\n\r\n// request to join the group - note uses the invitations workflow,\r\n// treating a request as an accepted (but not yet approved) invitation\r\nconst requestJoinGroup = async (userId, groupId, updateMessage) => {\r\n  const groupMembers = await database.sendGetRequest(`/membership/${groupId}`);\r\n  const groupInvitations = await database.sendGetRequest(`/invitations-open/${groupId}`);\r\n  const groupAdmins = await database.sendGetRequest(`/admins/${groupId}`);\r\n\r\n  // check if in group already\r\n  for (let i = 0; i < groupMembers.length; i += 1) {\r\n    if (groupMembers[i].member_id === userId) {\r\n      updateMessage('You\\'re already a member of this group!');\r\n      return;\r\n    }\r\n  }\r\n\r\n  // check if already have an open invite\r\n  for (let i = 0; i < groupInvitations.length; i += 1) {\r\n    if (groupInvitations[i].to_user_id === userId) {\r\n      updateMessage('You\\'ve already got an open request or invitation to this group!');\r\n      return;\r\n    }\r\n  }\r\n\r\n  // check if already an admin\r\n  for (let i = 0; i < groupAdmins.length; i += 1) {\r\n    if (groupAdmins[i].admin_id === userId) {\r\n      updateMessage('You\\'re already an admin of this group!');\r\n      return;\r\n    }\r\n  }\r\n\r\n  const newRequestObj = {\r\n    fromUserId: 1000000,\r\n    toUserId: userId,\r\n    groupId,\r\n    invitationStatus: 'accepted',\r\n  };\r\n\r\n  updateMessage('Successfully requested to join - await approval!');\r\n  await database.sendPostRequest('/invitations/', newRequestObj);\r\n};\r\n\r\nconst getNonMemberPublicGroups = async (groupMemberships, groups) => {\r\n  // simplify groupMembershipsArray to be just ids\r\n  const groupMembershipsSimplifiedArray = [];\r\n  for (let i = 0; i < groupMemberships.length; i += 1) {\r\n    groupMembershipsSimplifiedArray.push(groupMemberships[i].group_id);\r\n  }\r\n\r\n  // filter groups data, taking only groups that (a) the user is NOT in and (b) that are public\r\n  const publicGroupsUserNotIn = [];\r\n  for (let i = 0; i < groups.length; i += 1) {\r\n    if (!(groupMembershipsSimplifiedArray.includes(groups[i].group_id))) {\r\n      if (groups[i].is_public === 1) {\r\n        publicGroupsUserNotIn.push(groups[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  // return Array\r\n  return publicGroupsUserNotIn;\r\n};\r\n\r\nconst nonMemberPublicGroups = async (groupMemberships, groups) => {\r\n  // delete any existing children in the inner html\r\n  const element = document.getElementById('groups-area-non-member');\r\n  if (element) {\r\n    while (element.firstChild) {\r\n      element.removeChild(element.firstChild);\r\n    }\r\n  }\r\n\r\n  // get nonmember public groups\r\n  const publicGroupsUserNotIn = getNonMemberPublicGroups(groupMemberships, groups);\r\n  return publicGroupsUserNotIn;\r\n};\r\n\r\n// abstracting a level from the math module b/c I think you can't mock the math module directly?\r\nconst getRandomNum = (num) => {\r\n  const ranNum = Math.floor((Math.random() * num));\r\n  return ranNum;\r\n};\r\n\r\n// returns a random public group the user is not yet a member of.\r\n// Note - returns an ARRAY, not a single group object\r\nconst suggestGroup = async (groupMemberships, groups) => {\r\n  const potentialSuggestions = await getNonMemberPublicGroups(groupMemberships, groups);\r\n  const numPotentialSuggestions = potentialSuggestions.length;\r\n  const choice = getRandomNum(numPotentialSuggestions);\r\n  const suggestedGroup = potentialSuggestions[choice];\r\n\r\n  return [suggestedGroup];\r\n};\r\n\r\nmodule.exports = {\r\n  createGroup,\r\n  getGroups,\r\n  parseGroups,\r\n  getAdmins,\r\n  getGroupMemberships,\r\n  nonMemberPublicGroups,\r\n  requestJoinGroup,\r\n  getRandomNum,\r\n  suggestGroup,\r\n};\r\n","const database = require('../DatabaseModule');\n\nconst getNotifications = async (id) => {\n  const response = await database.sendGetRequest('/notifications/', { id });\n  if (response.err === undefined) {\n    // eslint-disable-next-line no-console\n    console.log(response);\n    return response;\n  }\n  return null;\n};\n\nmodule.exports = {\n  getNotifications,\n};\n","const database = require('../DatabaseModule');\n\n// get list of accepted invitations to review\nconst getInvitationsToReview = async (userId) => {\n  // call backend for list of invitations to review based on the userId\n  const invitationsToReview = await database.sendGetRequest(`/invitations-review/${userId}`);\n  return invitationsToReview;\n};\n\n// add to group members\n\nconst getPendingInvitations = async (id) => {\n  const response = await database.sendGetRequest('/invitations/', { id });\n  return response;\n};\n\n// get group names associated with group_id\nconst getGroupNames = async (invitations) => {\n  // build array of promises for each invitation\n  const groupNamePromises = [];\n  for (let i = 0; i < invitations.length; i += 1) {\n    const groupName = database.sendGetRequest('/groups/', { id: invitations[i].group_id });\n    groupNamePromises.push(groupName);\n\n    // if there is an error for any of them, return it\n    if (groupName.err !== undefined) {\n      // eslint-disable-next-line no-console\n      console.log(groupName.err);\n      return groupName;\n    }\n  }\n\n  // await for all promises to resolve\n  const groupNameArray = await Promise.all(groupNamePromises);\n\n  const invitationsLocal = invitations;\n  // loop through, adding group names to each invitation object\n  for (let j = 0; j < groupNameArray.length; j += 1) {\n    invitationsLocal[j].groupName = groupNameArray[j].group_name;\n  }\n\n  return invitationsLocal;\n};\n\nconst putDecline = async (invitationId) => {\n  const result = await database.sendPutRequest(`/invitations/${invitationId}`, { newStatus: 'declined' });\n  return result;\n};\n\nconst declineInvite = async (invitationId, invitationName, updateInvitations, updateMessage) => {\n  // update operation on invitation to set the status to declined\n  const result = await putDecline(invitationId);\n\n  // update message\n  updateMessage(`Declined invitation to  ${invitationName}`);\n\n  // refetch/update invitations\n  updateInvitations();\n  return result;\n};\n\nconst acceptHTTP = async (invitationId) => {\n  // updating group in db taken from here. groupId, userId taken from params\n\n  // update invitation in db\n  const invitationURL = `/invitations/${invitationId}`;\n  const invitationBody = { newStatus: 'accepted' };\n  const resultInv = await database.sendPutRequest(invitationURL, invitationBody);\n\n  // refetch/update invitations\n  return resultInv;\n};\n\nconst acceptInvite = async (invitation, updateInvitations, updateMessage) => {\n  // update operation on invitation to set the status to declined\n  const result = await acceptHTTP(invitation.invitation_id);\n\n  // update message\n  updateMessage(`Accepted invitation to  ${invitation.groupName}. An admin will now review your invitation!`);\n\n  // refetch/update invitations\n  updateInvitations();\n\n  return result;\n};\n\n// for when admins approve an invitation that has already been accepted by the invitee\nconst approveInvite = async (invReview, updateInvitationsToReview, updateMessage) => {\n  // get all members in a group\n  const groupMembers = await database.sendGetRequest(`/membership/${invReview.group_id}`);\n\n  // test if user is already in the group\n  for (let i = 0; i < groupMembers.length; i += 1) {\n    if (groupMembers[i].member_id === invReview.to_user_id) {\n      updateMessage('This user is already in the group! You can safely decline the invitation');\n      return;\n    }\n  }\n\n  // add to group membership (already done)\n  const groupMembershipURL = `/membership/${invReview.group_id}`;\n  const postBody = { id: invReview.to_user_id };\n  await database.sendPostRequest(groupMembershipURL, postBody);\n\n  // update invitation status to approved\n  const invitationURL = `/invitations/${invReview.invitation_id}`;\n  const invitationBody = { newStatus: 'approved' };\n  await database.sendPutRequest(invitationURL, invitationBody);\n\n  // send notification to user\n  const approveNotifURL = `/notifications/${invReview.to_user_id}`;\n  const approvedNotifBody = { notification: { isRead: false, msg: `You've been approved to join ${invReview.group_name}!` } };\n  await database.sendPostRequest(approveNotifURL, approvedNotifBody);\n\n  // updateMessage\n  updateMessage('You\\'ve approved the user - and they\\'ve been added to the group! Hurrah!');\n\n  // refresh invitation page (invitations to review component)\n  updateInvitationsToReview();\n};\n\n// for when admins decline/don't approve an invitation that has already been accepted by an invitee\nconst notApproveInvite = async (invReview, updateInvitationsToReview, updateMessage) => {\n  // update invitation status to declined\n  const invitationURL = `/invitations/${invReview.invitation_id}`;\n  const invitationBody = { newStatus: 'declined' };\n  const resultInv = await database.sendPutRequest(invitationURL, invitationBody);\n\n  // send notification to user\n\n  // updateMessage\n  updateMessage('You\\'ve declined the user - and they\\'ve NOT been added to the group! Hurrah!');\n\n  // refresh invitation page (invitations to review component)\n  updateInvitationsToReview();\n\n  return resultInv;\n};\n\nmodule.exports = {\n  getPendingInvitations,\n  getGroupNames,\n  declineInvite,\n  acceptInvite,\n  getInvitationsToReview,\n  approveInvite,\n  notApproveInvite,\n};\n","const { sendDeleteRequest } = require('../../DatabaseModule');\n\n/** const getCreatorGroups = (userId) => {\n  // get creator groups\n\n  return [userId];\n}; */\n\nconst deleteOpenInvitations = async (userId, urlStem) => {\n  // do a delete\n  const url = `${urlStem}invitations/${userId}`;\n  await sendDeleteRequest(url);\n};\n\nconst deleteGroupMemberships = async (userId, urlStem) => {\n  // do a delete\n  const url = `${urlStem}membership/${userId}`;\n  await sendDeleteRequest(url);\n};\n\nconst deleteAdminRoles = async (userId, urlStem) => {\n  // do a delete\n  const url = `${urlStem}admins/${userId}`;\n  await sendDeleteRequest(url);\n};\n\nconst deleteProfileInfo = async (userId, urlStem) => {\n  // do a delete\n  const url = `${urlStem}profile/${userId}`;\n  await sendDeleteRequest(url);\n};\n\nconst deleteUserInfo = async (userId, urlStem) => {\n  // do a delete\n  const url = `${urlStem}user/${userId}`;\n  await sendDeleteRequest(url);\n};\n\nconst deactivateAccount = async (userId, updateMessage, changeState) => {\n  const urlStem = '/';\n\n  /**\n  // check if a creator of any groups\n  let createdGroups = [];\n  getCreatorGroups(userId, urlStem);\n  if (createdGroups.length > 0) {\n    updateMessage('Can\\'t deactivate this account. It has created a group.');\n    return;\n  }\n   */\n\n  // delete invitations\n  await deleteOpenInvitations(userId, urlStem);\n\n  // delete group memberships\n  await deleteGroupMemberships(userId, urlStem);\n\n  // delete admins - check if group creator\n  await deleteAdminRoles(userId, urlStem);\n\n  // delete profile information\n  await deleteProfileInfo(userId, urlStem);\n\n  // delete user information\n  await deleteUserInfo(userId, urlStem);\n\n  // update message\n  updateMessage('Account deactivated successfully. You will be rerouted to the login page');\n\n  // reroute to main page\n  changeState({ link: '/' });\n};\n\nmodule.exports = { deactivateAccount };\n","const database = require('../DatabaseModule');\n\nconst getGroupAnalyticsFacts = async () => {\n  const groupAnalyticsFacts = await database.sendGetRequest('/analytics-groups');\n  return groupAnalyticsFacts;\n};\n\nconst getPostAnalyticsFacts = async () => {\n  const postAnalyticsFacts = await database.sendGetRequest('/analytics-posts');\n  return postAnalyticsFacts;\n};\n\nmodule.exports = {\n  getGroupAnalyticsFacts,\n  getPostAnalyticsFacts,\n};\n","const database = require('../DatabaseModule');\n\nconst getFlaggedPostsForReview = async (state) => {\n  const { flaggedPosts } = await database.sendGetRequest(`/flag-post/${state.userId}`);\n  return flaggedPosts;\n};\n\nconst finishFlag = async (flag, deleted, changeState) => {\n  const body = {\n    flaggerId: flag.flaggerName,\n    flaggerName: flag.flaggerName,\n    groupId: flag.groupId,\n    deleted,\n    author: flag.posting_username,\n  };\n  await database.sendBodiedDeleteRequest(`/flag-post/${flag.post_id}`, body);\n  changeState({ link: '/flaggedposts' });\n  return body;\n};\n\nconst parseFlaggedPosts = (flagged, changeState) => {\n  if (flagged.length !== 0) {\n    const element = document.getElementById('post-create-area');\n\n    if (element) {\n      while (element.firstChild) {\n        element.removeChild(element.firstChild);\n      }\n    }\n\n    // then add all the groups\n    for (let i = 0; i < flagged.length; i += 1) {\n      const post = flagged[i];\n      const postId = post.post_id;\n      const postingUser = post.posting_username;\n      // eslint-disable-next-line prefer-destructuring\n      const caption = post.caption;\n      let content = '';\n      if (flagged[i].photourl !== null) {\n        content += `<div class=\"content image\">\n          <img src=${flagged[i].photourl} class=\"image\" alt=\"${flagged[i].posting_username}'s image\" />\n        </div>`;\n      } else if (flagged[i].audioUrl !== null) {\n        content += `<div class=\"content audio\">\n          <audio controls>\n            <source src=${flagged[i].audioUrl}>\n          </audio>\n        </div>`;\n      } else if (flagged[i].videoUrl !== null) {\n        content += `<div class=\"content video\">\n          <video src=${flagged[i].videoUrl} controls>\n            Something went wrong!\n          </video>\n        </div>`;\n      }\n\n      // eslint-disable-next-line prefer-template\n      const postBlock = '<div id=\"flag-container\">'\n    + `<p>Flagged by: ${flagged[i].flaggerName}</p>`\n    + `<p>In group: ${flagged[i].groupName}</p>`\n    + `<div class=\"post-container\" id=${postId}>`\n    + '<div class=\"post-info\">'\n    + '<ul>'\n    + '<li id=\"post-id\" >Post Id: '\n    + postId\n    + '</li>'\n    + '<li id=\"posting-user\">Posting User: '\n    + postingUser\n    + '</li>'\n    + '<li id=\"caption\">Caption: '\n    + caption\n    + '</li>'\n    + '<li id=\"content\">'\n    + content\n    + '</li>'\n    + '</ul>'\n    + '</div>'\n    + '</div>'\n    + '<div>'\n    + '<input id=\"delete\" type=\"submit\" value=\"Delete post\" />'\n    + '<input id=\"keep\" type=\"submit\" value=\"Keep post\" />'\n    + '</div>'\n    + '</div>';\n\n      const postDiv = document.createElement('div');\n      postDiv.innerHTML = postBlock;\n\n      document.getElementById('post-create-area').appendChild(postDiv);\n      document.getElementById('delete').onclick = () => finishFlag(flagged[i], 1, changeState);\n      document.getElementById('keep').onclick = () => finishFlag(flagged[i], 0, changeState);\n      // eslint-disable-next-line no-console\n      console.log(document.getElementById(postId));\n    }\n  }\n};\n\nmodule.exports = {\n  getFlaggedPostsForReview,\n  parseFlaggedPosts,\n};\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './LoginForm.css';\r\n\r\nconst lib = require('./LoginModule');\r\n\r\nfunction LoginForm(props) {\r\n  const { changeState, addAttempt, attempt } = props;\r\n\r\n  const message = `Username or password does not exist. You have ${3 - attempt} more tries`;\r\n\r\n  return (\r\n    <div className=\"LoginForm\">\r\n      <h1>Welcome!</h1>\r\n      {window.location.href.split('/').pop() === 'error' ? (\r\n        <p>\r\n          {message}\r\n        </p>\r\n      ) : null}\r\n      {window.location.href.split('/').pop() === 'locked' ? (\r\n        <div>\r\n          <p>Your account is locked out.</p>\r\n          <p>Please wait about 30 minutes to log back in. RIP</p>\r\n        </div>\r\n      ) : null}\r\n      <div className=\"textDiv\" id=\"usernameDiv\">\r\n        <label htmlFor=\"username\">\r\n          Username:\r\n          <input className=\"text\" id=\"username\" type=\"text\" placeholder=\"username\" />\r\n        </label>\r\n      </div>\r\n      <div className=\"textDiv\" id=\"passwordDiv\">\r\n        <label htmlFor=\"password\">\r\n          Password:\r\n          <input className=\"text\" id=\"password\" type=\"password\" placeholder=\"password\" />\r\n        </label>\r\n      </div>\r\n      <p>\r\n        Not a user?\r\n        <Link id=\"registrationLink\" to=\"/registration\" onClick={() => changeState({ link: '/registration' })}> Create an account. </Link>\r\n      </p>\r\n      <p>\r\n        Forgot your password?\r\n        <Link id=\"passwordLink\" to=\"/loginchangepassword\" onClick={() => changeState({ link: '/changepassword' })}> Create a new password. </Link>\r\n      </p>\r\n      <Link to=\"/main\" onClick={() => lib.verifyUser(changeState, document.getElementById('username').value, document.getElementById('password').value, addAttempt, attempt)}>\r\n        <input id=\"loginButton\" type=\"submit\" value=\"Login\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\nimport '../login-page/LoginForm.css';\n\nconst lib = require('./RegistrationModule');\n\nfunction RegistrationForm(props) {\n  const { changeState } = props;\n\n  const renderWarnings = () => {\n    if (window.location.href.split('/').pop() === 'invalid') {\n      return (<p>Password confirmation does not match password.</p>);\n    } if (window.location.href.split('/').pop() === 'user') {\n      return (<p>This username has already been taken.</p>);\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"RegistrationForm\">\n      <h1>Welcome!</h1>\n      {renderWarnings()}\n      <div className=\"textDiv\" id=\"usernameDiv\">\n        <label htmlFor=\"username\">\n          Username:\n          <input className=\"text\" id=\"username\" type=\"text\" placeholder=\"username\" />\n        </label>\n      </div>\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password1\">\n          Password:\n          <input className=\"text\" id=\"password1\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password2\">\n          Confirm Password:\n          <input className=\"text\" id=\"password2\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <input id=\"createButton\" type=\"submit\" value=\"Create Account\" onClick={() => lib.createAccount(changeState, document.getElementById('username').value, document.getElementById('password1').value, document.getElementById('password2').value)} />\n    </div>\n  );\n}\n\nexport default RegistrationForm;\n","import React from 'react';\nimport './LoginForm.css';\n\nconst lib = require('./LoginModule');\n\nfunction ChangePasswordForm(props) {\n  const { changeState } = props;\n\n  return (\n    <div className=\"ChangePasswordForm\">\n      <h1>Welcome!</h1>\n      {(window.location.href.split('/').pop() === 'invalid') ? (<p>Password confirmation does not match password.</p>) : null}\n      {(window.location.href.split('/').pop() === 'user') ? (<p>Username does not exist.</p>) : null}\n      <div className=\"textDiv\" id=\"usernameDiv\">\n        <label htmlFor=\"username\">\n          Username:\n          <input className=\"text\" id=\"username\" type=\"text\" placeholder=\"username\" />\n        </label>\n      </div>\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password1\">\n          New password:\n          <input className=\"text\" id=\"password1\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password2\">\n          Confirm new password:\n          <input className=\"text\" id=\"password2\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <input id=\"createButton\" type=\"submit\" value=\"Update password\" onClick={() => lib.changePassword(changeState, document.getElementById('username').value, document.getElementById('password1').value, document.getElementById('password2').value)} />\n    </div>\n  );\n}\n\nexport default ChangePasswordForm;\n","import { React, useState } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport './LoginPage.css';\r\nimport LoginForm from './LoginForm';\r\nimport RegistrationForm from '../registration-page/RegistrationForm';\r\nimport ChangePasswordForm from './ChangePasswordForm';\r\n\r\nfunction LoginPage(props) {\r\n  const { changeState } = props;\r\n  const [attempt, addAttempt] = useState(0);\r\n\r\n  const conditionalRender = () => {\r\n    if (window.location.href.split('/').pop() === '' || window.location.href.split('/')[3] === 'error' || window.location.href.split('/')[3] === 'locked') {\r\n      return (<LoginForm changeState={(input) => changeState(input)} id=\"loginForm\" attempt={attempt} addAttempt={(i) => addAttempt(i)} />);\r\n    }\r\n    if (window.location.href.split('/')[3] === 'loginchangepassword') {\r\n      return (<ChangePasswordForm changeState={(input) => changeState(input)} />);\r\n    }\r\n    if (window.location.href.split('/')[3] === 'registration') {\r\n      return (<RegistrationForm key=\"registrationForm\" changeState={(input) => changeState(input)} id=\"registrationForm\" />);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"LoginPage\">\r\n        <div id=\"artSide\">\r\n          <div className=\"rectWrapper\">\r\n            <div className=\"rect\" id=\"rect1\" />\r\n            <div className=\"rect\" id=\"rect2\" />\r\n            <div className=\"rect\" id=\"rect3\" />\r\n            <div className=\"rect\" id=\"rect4\" />\r\n          </div>\r\n        </div>\r\n        <div id=\"loginFormContainer\">\r\n          {conditionalRender()}\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import { React, useState, useEffect } from 'react';\nimport './Home.css';\n\nconst lib = require('./HomeModule');\n\nconst clickProfile = (props) => {\n  const url = '/profile';\n  props.changeState({ link: url });\n};\n\nfunction Home(props) {\n  const { changeState, state } = props;\n  const [filters, setFilters] = useState([]);\n  const [selectedFilter, updateSelectedFilter] = useState('');\n  const [selectedSort, updateSelectedSort] = useState('none');\n\n  const update = async () => {\n    await lib.getFilterOptions(setFilters);\n    const groups = await lib.getFilteredGroups(selectedFilter, selectedSort);\n    lib.parseFilteredGroups(groups, changeState, selectedFilter);\n  };\n  useEffect(() => { update(); }, [selectedFilter, selectedSort]);\n\n  return (\n    <div className=\"container\">\n\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n\n          <div className=\"post-create-area\">\n            <div id=\"filterForm\">\n              Filter group list by topic:\n              <div id=\"filterInput\">\n                <select id=\"topics\" name=\"topics\">\n                  {filters.map((filter) => (\n                    <option key={`topics-${filter}`} value={filter} name={filter}>{filter}</option>\n                  ))}\n                </select>\n                <div id=\"buttons\">\n                  <input type=\"submit\" onClick={() => lib.changeSelectedFilter(updateSelectedFilter)} value=\"Submit filters\" />\n                  <input type=\"submit\" onClick={() => lib.resetSelected(updateSelectedFilter)} value=\"Reset filters\" />\n                </div>\n              </div>\n            </div>\n            <div id=\"sortForm\">\n              Sort groups:\n              <div id=\"filterInput\">\n                <select id=\"sorts\" name=\"sorts\">\n                  <option value=\"new\" name=\"Newest post\">Newest post</option>\n                  <option value=\"posts\" name=\"Number of posts\">Number of posts</option>\n                  <option value=\"members\" name=\"Number of members\">Number of members</option>\n                </select>\n                <div id=\"buttons\">\n                  <input type=\"submit\" onClick={() => lib.changeSelectedSort(updateSelectedSort)} value=\"Submit sort\" />\n                  <input type=\"submit\" onClick={() => lib.resetSelectedSort(updateSelectedSort)} value=\"Reset sort\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"groups-area\" id=\"groups-area\">\n            No groups meet the criteria chosen!\n          </div>\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\nexport { clickProfile };\n","import './ProfilePage.css';\nimport React, { useEffect, useState } from 'react';\n\nconst {\n  getProfile,\n  // getUserPosts,\n  sendReply,\n  getRegistrationDate,\n} = require('./ProfileModule');\n\nfunction ProfilePage(props) {\n  // dummy profile to help implement component frontend with right schema\n  // define states\n  const dummyProfile = {\n    biography: '',\n    first_name: 'Stacy',\n    last_name: 'Shapiro',\n    user_id: 9,\n    profile_picture_url: 'https://www.psypost.org/wp-content/uploads/2017/08/meditating-woman.jpg',\n  };\n\n  const { changeState, state } = props;\n\n  const [userProfile, setUserProfile] = useState(dummyProfile);\n  const [userPosts, setUserPosts] = useState([]);\n  const [registrationDate, setRegoDate] = useState('');\n\n  const updateUserPosts = async () => {\n    // extract id from props\n    const { userId } = state;\n\n    // const dummyId = 9;\n\n    // call backend for content linked to userId\n    // const postsToSet = await getUserPosts(userId);\n    const profileToSet = await getProfile(userId);\n\n    // just for testing\n    const regoDate = await getRegistrationDate(userId);\n    // eslint-disable-next-line no-console\n    console.log('user registration date is: ', regoDate);\n\n    // update state\n    // setUserPosts(postsToSet);\n    setUserPosts([]);\n    // don't know why I need to index it at all let alone double, gets the right data structure\n    setUserProfile(profileToSet[0][0]);\n    setRegoDate(regoDate);\n  };\n\n  useEffect(() => {\n    updateUserPosts();\n  }, []);\n\n  // useEffect(async () => {\n  //  console.log('state updated, userPosts is now: ', userPosts);\n  // }, [userPosts]);\n\n  return (\n    <div className=\"App\">\n      <div id=\"cover_space\">\n        <img id=\"user_profile_pic\" src={userProfile.profile_picture_url} alt=\"\" />\n        <div id=\"main_title\">\n          {`${state.username}`}\n          &apos;s FaceTok Page\n        </div>\n      </div>\n      <div id=\"nav_button_container\">\n        <div className=\"nav_button\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"nav_button\" onClick={() => changeState({ link: '/home' })} onKeyDown={() => changeState({ link: '/home' })} role=\"link\" tabIndex={0}>Groups</div>\n        <div className=\"nav_button\" onClick={() => changeState({ link: '/changepassword', userId: userProfile.user_id })} onKeyDown={() => changeState({ link: '/changepassword', userId: userProfile.user_id })} role=\"link\" tabIndex={0}>Set bio or profile pic</div>\n        <div className=\"nav_button\" onClick={() => changeState({ link: '/changepassword', userId: userProfile.user_id })} onKeyDown={() => changeState({ link: '/changepassword', userId: userProfile.user_id })} role=\"link\" tabIndex={0}>Change password</div>\n        <div className=\"nav_button\" id=\"deactivateButton\" onClick={() => changeState({ link: '/deactivate-account' })} onKeyDown={() => changeState({ link: '/deactivate-account' })} role=\"link\" tabIndex={0}>Deactivate account</div>\n      </div>\n      <div id=\"main_content_container\">\n        <div id=\"key_bio_info\">\n          <b>\n            {state.username}\n            &apos;s bio\n          </b>\n          <p />\n          {userProfile.biography}\n          <p />\n          <p />\n          Account registration date:\n          <p />\n          {registrationDate}\n        </div>\n        <div id=\"post_container\">\n          {userPosts.map((post) => (\n            <div key={`post-${post.post_id}`} className=\"wall_post\">\n              <b>\n                <div className=\"main_post\">\n                  {`${userProfile.first_name} ${userProfile.last_name}`}\n                  &nbsp;posted:\n                </div>\n              </b>\n              <p />\n              <div className=\"post_caption\">\n                {post.caption}\n              </div>\n              <div className=\"reply_content_container\">\n                { post.comments.map((comment) => (\n                  <div key={`comment-${comment.name}`}>\n                    <p />\n                    <b className=\"reply_content_name\">\n                      {comment.name}\n                    </b>\n                    <div className=\"reply_text\">\n                      {comment.comment_txt}\n                    </div>\n                  </div>\n                )) }\n                <p />\n                <div className=\"reply_container\">\n                  <div className=\"post_reply_textbox\" id={`reply_for_post_${post.post_id}`}> Type your reply here...</div>\n\n                  <div className=\"post_reply_button\" onClick={() => sendReply(post.post_id, userProfile.user_id, 'testcommentinsertion!', updateUserPosts)} onKeyDown={() => sendReply(post.post_id, userProfile.user_id, 'testcommentinsertion!', updateUserPosts)} role=\"link\" tabIndex={0}>Reply!</div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfilePage;\n","import { useEffect, useState, React } from 'react';\nimport './Groups.css';\n\nconst lib = require('./GroupsModule');\n\nfunction Groups(props) {\n  const { state, changeState } = props;\n  const [message, setMessage] = useState(' ');\n  // eslint-disable-next-line no-unused-vars\n  const [allGroups, setAllGroups] = useState([]);\n  const [nonMemberGroups, setNonMemberGroups] = useState([]);\n  const [suggestedGroup, setSuggestedGroup] = useState([]);\n\n  const updateGroups = async () => {\n    const groups = await lib.getGroups(changeState);\n    const admins = await lib.getAdmins();\n    // eslint-disable-next-line\n    // const propsState = props.state;\n    const groupMemberships = await lib.getGroupMemberships(state.userId);\n\n    setAllGroups(groups.result);\n    lib.parseGroups(changeState, groups.result[0], admins, groupMemberships);\n    const groups2 = groups.result[0];\n    const nonMemberGroupsResolved = await lib.nonMemberPublicGroups(groupMemberships, groups2);\n    let newSuggestedGroup = await lib.suggestGroup(groupMemberships, groups2);\n\n    setNonMemberGroups(nonMemberGroupsResolved);\n    if (typeof newSuggestedGroup[0] === 'undefined') {\n      newSuggestedGroup = [];\n    }\n    setSuggestedGroup(newSuggestedGroup);\n  };\n\n  const updateMessage = (newMessage) => {\n    setMessage(newMessage);\n  };\n\n  const createGroup = async () => {\n    // eslint-disable-next-line\n    const res = await lib.createGroup(changeState,\n      document.getElementById('groupname').value,\n      1,\n      document.getElementById('groupdescription').value,\n      document.getElementById('ispublic').value,\n      document.getElementById('topic1').value,\n      document.getElementById('topic2').value,\n      document.getElementById('topic3').value,\n    );\n\n    const groups = await lib.getGroups(changeState);\n    const admins = await lib.getAdmins();\n    setAllGroups(groups.result);\n    lib.parseGroups(changeState, groups.result[0], admins);\n  };\n\n  useEffect(() => {\n    updateGroups();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div className=\"post-area\">\n            <div className=\"left-group-input\">\n              <div className=\"textDiv\" id=\"groupnameDiv\">\n                <label htmlFor=\"groupname\">\n                  Group Name:\n                  <input className=\"text\" id=\"groupname\" type=\"text\" placeholder=\"group name\" />\n                </label>\n              </div>\n              <div className=\"textDiv\" id=\"groupdescriptionDiv\">\n                <label htmlFor=\"groupdescription\">\n                  Group Description:\n                  <input className=\"text\" id=\"groupdescription\" type=\"text\" placeholder=\"group description\" />\n                </label>\n              </div>\n              <div className=\"textDiv\" id=\"ispublicDiv\">\n                <label htmlFor=\"ispublic\">\n                  Is Public?\n                  <input className=\"text\" id=\"ispublic\" type=\"text\" placeholder=\"1 or 0\" />\n                </label>\n              </div>\n            </div>\n            <div className=\"right-group-input\">\n              <div className=\"textDiv\" id=\"topic1Div\">\n                <label htmlFor=\"topic1\">\n                  Topic 1:\n                  <input className=\"text\" id=\"topic1\" type=\"text\" placeholder=\"group topic 1\" />\n                </label>\n              </div>\n              <div className=\"textDiv\" id=\"topic2Div\">\n                <label htmlFor=\"groupdescription\">\n                  Topic 2:\n                  <input className=\"text\" id=\"topic2\" type=\"text\" placeholder=\"group topic 2\" />\n                </label>\n              </div>\n              <div className=\"textDiv\" id=\"topic-3-Div\">\n                <label htmlFor=\"ispublic\">\n                  Topic 3:\n                  <input className=\"text\" id=\"topic3\" type=\"text\" placeholder=\"group topic 3\" />\n                </label>\n              </div>\n            </div>\n\n            <button type=\"submit\" className=\"createGroup\" onClick={() => { createGroup(); updateGroups(); }}> Create A Group </button>\n          </div>\n\n          <div className=\"heading-for-groups\" id=\"heading-for-groups\">\n            Groups in which you&apos;re a member:\n          </div>\n\n          <div className=\"groups-area\" id=\"groups-area\">\n            There are no groups yet!\n          </div>\n\n          <div className=\"groups-non-member-message\" id=\"groups-non-member-message\">\n            {message}\n          </div>\n\n          <div className=\"heading-for-groups\" id=\"heading-for-groups-non-member\">\n            Other public groups you can request to join:\n          </div>\n\n          <div className=\"groups-area\" id=\"groups-area-non-member\">\n            <p />\n            {nonMemberGroups.map((group) => (\n              <div className=\"non-member-group group-container\" key={group.group_name}>\n                <div>\n                  {`Group name: ${group.group_name}`}\n                </div>\n                <div>\n                  {`Group description: ${group.group_description}`}\n                </div>\n                <div>\n                  <input type=\"button\" value=\"Request to join group\" id=\"submit\" onClick={() => lib.requestJoinGroup(state.userId, group.group_id, updateMessage)} />\n                </div>\n                <p />\n              </div>\n            ))}\n          </div>\n\n          <div className=\"heading-for-groups\" id=\"heading-for-suggested-group\">\n            Here&apos;s a heavily personalised (not randomised at all) group recommendation:\n          </div>\n\n          <div className=\"groups-area\" id=\"groups-area-suggestions\">\n            {suggestedGroup.map((group) => (\n              <div className=\"non-member-group group-container\" key={`suggest-${group.group_name}`}>\n                <div>\n                  {`Group name: ${group.group_name}`}\n                </div>\n                <div>\n                  {`Group description: ${group.group_description}`}\n                </div>\n                <div>\n                  <input type=\"button\" value=\"Request to join group\" id=\"submit\" onClick={() => lib.requestJoinGroup(state.userId, group.group_id, updateMessage)} />\n                </div>\n                <p />\n              </div>\n            ))}\n          </div>\n\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Groups;\n","import { useState, useEffect, React } from 'react';\nimport './NotificationPage.css';\n\nconst lib = require('./NotificationModule');\n\nfunction NotificationPage(props) {\n  const { changeState, state } = props;\n\n  const [notifs, setNotifs] = useState([]);\n\n  const updateNotifs = async () => {\n    const n = await lib.getNotifications(state.userId);\n\n    setNotifs(n);\n  };\n\n  // eslint-disable-next-line\n  console.log(notifs);\n\n  useEffect(() => { updateNotifs(); }, []);\n\n  return (\n    <div className=\"container\">\n\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          {notifs.map((n) => (\n            <div className=\"notification\" key={n.id}>\n              <div className=\"title\">\n                {\n                  `Notification! ${new Date(Date.parse(n.date)).getMonth()}-${new Date(Date.parse(n.date)).getDate()}-${new Date(Date.parse(n.date)).getFullYear()} at ${new Date(Date.parse(n.date)).getHours()}:${new Date(Date.parse(n.date)).getMinutes()}`\n                }\n              </div>\n              <div className=\"info\">\n                <div className={`mark-as-read-dot ${n.is_read === 1 ? 'read' : 'unread'}`} />\n                <div className=\"message\">{n.msg}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default NotificationPage;\n","import React, { useState } from 'react';\n\nconst { createHash } = require('crypto');\nconst { sendPutRequest } = require('../DatabaseModule');\n\nconst changePassword = async (pass1, pass2, userId, updateMessage) => {\n  // eslint-disable-next-line no-console\n  console.log('entered change password with pass 1 of ', pass1, 'and pass 2 of ', pass2);\n  if (pass1 !== pass2) {\n    updateMessage('the two passwords don\\'t match - try again!');\n  } else {\n    // update in DB\n    const userPassword = createHash('sha256').update(pass1).digest('hex');\n    const reqBody = { id: userId, user_password: userPassword };\n\n    // need put request\n    const url = `/user/${userId}`;\n    const response = await sendPutRequest(url, reqBody);\n    // eslint-disable-next-line no-console\n    console.log('printing response ', response);\n\n    updateMessage('password updated successfully!');\n  }\n  return 0;\n};\n\nconst changeBio = async (newBio, userId, updateMessage) => {\n  const reqBody = { id: userId, biography: newBio };\n\n  const url = `/profile/${userId}`;\n  const response = await sendPutRequest(url, reqBody);\n  // eslint-disable-next-line no-console\n  console.log('printing response ', response);\n\n  updateMessage('bio updated successfully!');\n};\n\nconst changeProfilePic = async (picUrl, userId, updateMessage) => {\n  const reqBody = { id: userId, profilePictureURL: picUrl };\n\n  const apiUrl = `/profile-pic/${userId}`;\n  const response = await sendPutRequest(apiUrl, reqBody);\n  // eslint-disable-next-line no-console\n  console.log('printing response ', response);\n\n  updateMessage('profile pic updated successfully!');\n};\n\nconst showMessage = (message) => (\n  <div>\n    <p />\n    {message}\n    <p />\n  </div>\n);\n\nconst UpdatePassword = (props) => {\n  const { userId, changeState } = props;\n  const [message, mutateMessage] = useState('');\n\n  const updateMessage = (newMessage) => {\n    mutateMessage(newMessage);\n  };\n\n  return (\n    <div>\n      {showMessage(message)}\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password1\">\n          New password:\n          <input className=\"text\" id=\"changepassword1\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <div className=\"textDiv\" id=\"passwordDiv\">\n        <label htmlFor=\"password2\">\n          Confirm new password:\n          <input className=\"text\" id=\"changepassword2\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <input id=\"updatePasswordButton\" type=\"submit\" value=\"Update Password\" onClick={() => changePassword(document.getElementById('changepassword1').value, document.getElementById('changepassword2').value, userId, updateMessage)} />\n      <p />\n      <div className=\"textDiv\" id=\"newBioDiv\">\n        <label htmlFor=\"newBio\">\n          New bio:\n          <input className=\"text\" id=\"newBioInput\" type=\"text\" placeholder=\"Enter new Bio text here\" />\n        </label>\n      </div>\n      <input id=\"updateBioButton\" type=\"submit\" value=\"Update Bio\" onClick={() => changeBio(document.getElementById('newBioInput').value, userId, updateMessage)} />\n      <p />\n      <div className=\"textDiv\" id=\"newProfilePicDiv\">\n        <label htmlFor=\"newPic\">\n          New profile pic:\n          <input className=\"text\" id=\"newPicInput\" type=\"text\" placeholder=\"Paste the URL to an image here\" />\n        </label>\n      </div>\n      <input id=\"updatePictureButton\" type=\"submit\" value=\"Update Profile Pic\" onClick={() => changeProfilePic(document.getElementById('newPicInput').value, userId, updateMessage)} />\n      <p />\n      <input id=\"backToProfileButton\" type=\"submit\" value=\"Back to profile page\" onClick={() => changeState({ link: '/profile', id: userId })} />\n    </div>\n  );\n};\n\nexport default UpdatePassword;\n","import Axios from 'axios';\n\nconst sendUploadPostRequest = async function sendUploadPostRequest(url, body) {\n  const res = await Axios.post(url, body);\n  return res;\n};\n\nexport default sendUploadPostRequest;\n","import sendUploadPostRequest from '../UploadModule';\n\nconst database = require('../DatabaseModule');\n\nconst getGroup = async (id) => {\n  const response = await database.sendGetGroupsRequest(`/groups/${id}`);\n\n  return response;\n};\n\nconst getAdmins = async (id) => {\n  const response = await database.sendGetRequest(`/admins/${id}`);\n\n  return response;\n};\n\nconst revokeAdmin = async (state, changeState, groupAndAdmins, setGroupAndAdmins) => {\n  const response = await database.sendDeleteRequest(`/admins?groupId=${state.viewingGroup}&adminUser=${document.getElementById('revokeAdmin').value}&groupName=${groupAndAdmins.group.group_name}`);\n\n  if (typeof response.message !== 'undefined') {\n    changeState({ link: '/viewgroup/error' });\n  }\n\n  await setGroupAndAdmins();\n\n  return response;\n};\n\nconst addAdmin = async (groupAndAdmins, setGroupAndAdmins, changeState) => {\n  const response = await database.sendPostRequest('/admins', {\n    admin: {\n      adminUser: document.getElementById('addAdmin').value,\n      groupId: groupAndAdmins.group.group_id,\n      isCreator: 0,\n      groupName: groupAndAdmins.group.group_name,\n    },\n  });\n\n  if (typeof response.err !== 'undefined') {\n    changeState({ link: '/viewgroup/admin' });\n    return null;\n  }\n\n  await setGroupAndAdmins();\n\n  return response;\n};\n\nconst inviteNonAdmin = async (groupAndAdmins, state, setGroupAndAdmins) => {\n  const url = '/invitations/';\n  const toUserName = document.getElementById('addNonAdmin').value;\n\n  // get the userid using the username.\n  // I've just used one argument because the concatenation method in DatabaseModule\n  // produced some funny results. Didn't want to change it in case I broke somebody else's work!\n  // So I've done the url concat here.\n  const toUserId = await database.sendGetRequest(`/user-by-name/${toUserName}`);\n  const body = {\n    // put in the request username from document here\n    fromUserId: state.userId,\n    groupId: groupAndAdmins.group.group_id,\n    toUserId: toUserId[0].user_id,\n    invitationStatus: 'pending',\n  };\n  const response = await database.sendPostRequest(url, body);\n  await setGroupAndAdmins();\n  return response;\n};\n\nconst leaveGroup = async (userId, groupId, updateMessage) => {\n  // update database - delete from groupMembership\n  await database.sendBodiedDeleteRequest(`/leave-group/${groupId}`, { userId });\n\n  // update message\n  updateMessage('Membership deleted! You are no longer a member of the group');\n};\n\nconst uploadMediaPost = async (\n  changeState,\n  postGroup,\n  postingUser,\n  caption,\n  selected,\n  updateState,\n  postingUsername,\n) => {\n  const file = document.getElementById('postContent').files[0];\n  if (selected === 'image' && file.size > 10000000) {\n    updateState({ link: '/viewgroup/post/error' });\n    return null;\n  } if ((selected === 'audio' || selected === 'video') && file.size > 100000000) {\n    updateState({ link: '/viewgroup/post/error' });\n    return null;\n  }\n\n  const data = new FormData();\n  data.append('file', file);\n  data.append('upload_preset', ['yj7lgb8v']);\n  sendUploadPostRequest(`https://api.cloudinary.com/v1_1/cis557-project-group-18/${selected === 'image' ? 'image' : 'video'}/upload`, data).then((mediaUrl) => {\n    const newPost = {\n      post_group: postGroup,\n      posting_user: postingUser,\n      caption,\n      posting_username: postingUsername,\n    };\n\n    if (selected === 'image') {\n      newPost.photourl = mediaUrl.data.url;\n    } else if (selected === 'video') {\n      newPost.videoUrl = mediaUrl.data.url;\n    } else {\n      newPost.audioUrl = mediaUrl.data.url;\n    }\n\n    return database.sendPostRequest(`/post/${selected}`, newPost).then(() => {\n      changeState({ link: '/viewgroup' });\n    });\n  });\n  return null;\n};\n\nconst createPost = async (\n  changeState,\n  postGroup,\n  postingUser,\n  caption,\n  selected,\n  updateState,\n  postingUsername,\n) => {\n  if (selected === 'audio') {\n    return uploadMediaPost(\n      changeState,\n      postGroup,\n      postingUser,\n      caption,\n      selected,\n      updateState,\n      postingUsername,\n    );\n  }\n  if (selected === 'video') {\n    return uploadMediaPost(\n      changeState,\n      postGroup,\n      postingUser,\n      caption,\n      selected,\n      updateState,\n      postingUsername,\n    );\n  }\n  if (selected === 'image') {\n    return uploadMediaPost(\n      changeState,\n      postGroup,\n      postingUser,\n      caption,\n      selected,\n      updateState,\n      postingUsername,\n    );\n  }\n\n  const newPost = {\n    post_group: postGroup,\n    posting_user: postingUser,\n    posting_username: postingUsername,\n    caption,\n  };\n\n  // TODO check the length of post, if over 200 characters say too long\n  if (caption.length > 200) {\n    changeState({ link: '/viewgroup/post/error' });\n    return null;\n  }\n\n  const response = await database.sendPostRequest('/post/text', newPost);\n  return response;\n};\n\nconst getPosts = async (changeState, groupId) => {\n  const response = await database.sendGetRequest(`/posts/${groupId}`);\n\n  return response;\n};\n\nconst flagPost = async (changeState, postId) => {\n  const response = await database.sendPutRequest(`/flag-post/${postId}`);\n  changeState({ link: '/viewgroup' });\n\n  return response;\n};\n\nconst hidePost = async (changeState, postId) => {\n  const response = await database.sendPutRequest(`/hide-post/${postId}`);\n  changeState({ link: '/viewgroup' });\n\n  return response;\n};\n\nconst deletePost = async (state, changeState, postId, postingUser) => {\n  const admins = await database.sendGetRequest(`/admins/${state.viewingGroup}`);\n  const adminNames = [];\n\n  for (let i = 0; i < admins.length; i += 1) {\n    // eslint-disable-next-line no-console\n    console.log(admins[i].user_name);\n    adminNames.push(admins[i].user_name);\n  }\n\n  if (postingUser === state.userId) {\n    const response = await database.sendDeleteRequest(`/post/${postId}`);\n    changeState({ link: '/viewgroup' });\n\n    return response;\n  }\n\n  if (adminNames.includes(state.username)) {\n    // delete the message\n    const response = await database.sendDeleteRequest(`/post/${postId}`);\n\n    // get user info\n    const user = await database.sendGetRequest(`/user/${postingUser}`);\n    const userName = user[0].user_name;\n\n    // eslint-disable-next-line\n    alert(`You have deleted ${userName}'s post. A notification has been sent to ${userName} regarding this deletion.`);\n    changeState({ link: '/viewgroup' });\n\n    // post notification\n    const notifBody = { notification: { isRead: false, msg: `Group admin ${state.username} deleted your post with id ${postId}` } };\n    await database.sendPostRequest(`/notifications/${postingUser}`, notifBody);\n\n    return response;\n  }\n\n  // eslint-disable-next-line\n  alert('You cannot delete this post because you are neither the author or admin of this group.');\n  return null;\n};\n\nconst flagReply = async (changeState, replyId) => {\n  const response = await database.sendPutRequest(`/flag-reply/${replyId}`);\n  changeState({ link: '/viewgroup' });\n\n  return response;\n};\n\nconst hideReply = async (changeState, replyId) => {\n  const response = await database.sendPutRequest(`/hide-reply/${replyId}`);\n  changeState({ link: '/viewgroup' });\n\n  return response;\n};\n\nconst deleteReply = async (changeState, replyId) => {\n  const response = await database.sendDeleteRequest(`/reply/${replyId}`);\n  changeState({ link: '/viewgroup' });\n\n  return response;\n};\n\nconst editReply = async (replyId, setEditComment) => {\n  const response = await database.sendPostRequest(`/reply/${replyId}`, { caption: document.getElementById('edit-reply').value });\n  setEditComment(-1);\n\n  return response;\n};\n\nconst createReply = async (postId, postGroup, postingUser, caption, changeState) => {\n  const newReply = {\n    post_id: postId,\n    post_group: postGroup,\n    posting_user: postingUser,\n    // eslint-disable-next-line\n    caption: caption,\n  };\n  // eslint-disable-next-line no-console\n  console.log(newReply);\n  // eslint-disable-next-line\n  const response = await database.sendPostRequest('/reply', newReply);\n\n  changeState({ link: '/viewgroup' });\n  // eslint-disable-next-line no-console\n  console.log(response);\n};\n\nconst getReplies = async (changeState, groupId) => {\n  // eslint-disable-next-line no-console\n  console.log(groupId);\n  const response = await database.sendGetRequest(`/replies/${groupId}`);\n\n  // eslint-disable-next-line no-console\n  console.log(response);\n  return response;\n};\n\nconst parsePosts = (posts) => {\n  // remove all children in the box\n  const element = document.getElementById('posts-area');\n\n  if (element) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  // then add all the groups\n  for (let i = 0; i < posts.length; i += 1) {\n    const post = posts[i];\n    const postId = post.post_id;\n    const postingUser = post.posting_username;\n    // eslint-disable-next-line prefer-destructuring\n    const caption = post.caption;\n    let content = '';\n    if (posts[i].photourl !== null) {\n      content += `<div class=\"content image\">\n          <img src=${posts[i].photourl} class=\"image\" alt=\"${posts[i].posting_username}'s image\" />\n        </div>`;\n    } else if (posts[i].audioUrl !== null) {\n      content += `<div class=\"content audio\">\n          <audio controls>\n            <source src=${posts[i].audioUrl}>\n          </audio>\n        </div>`;\n    } else if (posts[i].videoUrl !== null) {\n      content += `<div class=\"content video\">\n          <video src=${posts[i].videoUrl} controls>\n            Something went wrong!\n          </video>\n        </div>`;\n    }\n\n    // eslint-disable-next-line prefer-template\n    const postBlock = `<div class=\"post-container\" id=${postId}>`\n    + '<div class=\"post-info\">'\n    + '<ul>'\n    + '<li id=\"post-id\" >Post Id: '\n    + postId\n    + '</li>'\n    + '<li id=\"posting-user\">Posting User: '\n    + postingUser\n    + '</li>'\n    + '<li id=\"caption\">Caption: '\n    + caption\n    + '</li>'\n    + '<li id=\"content\">'\n    + content\n    + '</li>'\n    + '</ul>'\n    + '</div>'\n    + `<div class=\"comments\" id=\"comments-${postId}\">`\n    + '<div class=\"create-comment\">'\n    + '<div class=\"reply\">'\n    + `<textarea class=\"reply-input\" id=\"input-${postId}\" placeholder=\"reply to this post\"></textarea>`\n    // eslint-disable-next-line prefer-template\n    + `<button type=\"reply-button\" id=\"reply-button-${postId}\"> Reply </button>`\n    + '</div>'\n    + '<div type=\"flag-and-delete-post\">'\n    + '<p>Post options: </p>'\n    + `<button type=\"flag\" id=\"flag-post-${postId}\"> Flag </button>`\n    + `<button type=\"hide\" id=\"hide-post-${postId}\"> Hide </button>`\n    + `<button type=\"delete\" id=\"delete-post-${postId}\"> Delete </button>`\n    + '</div>'\n    + '</div>'\n    + '</div>'\n    + '</div>';\n\n    const postDiv = document.createElement('div');\n    postDiv.innerHTML = postBlock;\n\n    document.getElementById('posts-area').appendChild(postDiv);\n  }\n};\n\nconst parseReplies = (posts, replies, editComment, setEditComment) => {\n  // iterate over all posts\n  for (let i = 0; i < posts.length; i += 1) {\n    const post = posts[i];\n    const postId = post.post_id;\n\n    const element = document.getElementById(`comments-${postId}`);\n\n    // iterate over all replies and those that belong to the current post will be appended\n    for (let j = 0; j < replies.length; j += 1) {\n      const reply = replies[j];\n      const replyId = reply.reply_id;\n      const replyUser = reply.posting_user;\n      // eslint-disable-next-line prefer-destructuring\n      const caption = reply.caption;\n      const replyPostId = reply.post_id;\n\n      if (replyPostId === postId) {\n        // eslint-disable-next-line prefer-template\n        let replyBlock = '<div class=\"reply-container\">'\n        + '<div class=\"reply-info\">'\n        + '<ul>'\n        + '<li id=\"reply-id\" >Reply Id: '\n        + replyId\n        + '</li>'\n        + '<li id=\"replying-user\">Replying User: '\n        + replyUser\n        + '</li>';\n\n        if (editComment === -1) {\n          replyBlock += `<li id=\"caption\">Caption: ${caption}`\n          + '</li>'\n          + '</ul>'\n          + '</div>'\n          + '<div type=\"flag-and-delete\">'\n          + `<button type=\"flag\" id=\"flag-reply-${replyId}\"> Flag </button>`\n          + `<button type=\"hide\" id=\"hide-reply-${replyId}\"> Hide </button>`\n          + `<button type=\"edit\" id=\"edit-reply-${replyId}\"> Edit </button>`\n          + `<button type=\"delete\" id=\"delete-reply-${replyId}\"> Delete </button>`\n          + '</div>'\n          + '</div>';\n        } else {\n          replyBlock += '</ul>'\n            + '</div>'\n            + `<textarea class=\"reply-input\" id=\"edit-reply\" placeholder=\"reply to this post\">${caption}</textarea>`\n            // eslint-disable-next-line prefer-template\n            + '<button type=\"edit-reply-submit-button\" id=\"edit-reply-submit-button\"> Reply </button>'\n            + '</div>'\n            + '</div>';\n        }\n\n        const replyDiv = document.createElement('div');\n        replyDiv.innerHTML = replyBlock;\n        element.appendChild(replyDiv);\n        if (document.getElementById('edit-reply-submit-button') !== null) {\n          document.getElementById('edit-reply-submit-button').onclick = () => { editReply(replyId, setEditComment); };\n        }\n      }\n    }\n  }\n};\n\nconst parseOnclicks = (state, changeState, posts, replies, setEditComment) => {\n  // iterate over all replies and those that belong to the current post will be appended\n  for (let i = 0; i < posts.length; i += 1) {\n    const post = posts[i];\n    const postId = post.post_id;\n    const postingUser = post.posting_user;\n\n    const replyButton = document.getElementById(`reply-button-${postId}`);\n    const flagPostButton = document.getElementById(`flag-post-${postId}`);\n    const hidePostButton = document.getElementById(`hide-post-${postId}`);\n    const deletePostButton = document.getElementById(`delete-post-${postId}`);\n\n    // eslint-disable-next-line max-len\n    replyButton.onclick = () => { createReply(postId, state.viewingGroup, state.userId, document.getElementById(`input-${postId}`).value, changeState); };\n    flagPostButton.onclick = () => { flagPost(changeState, postId); };\n    hidePostButton.onclick = () => { hidePost(changeState, postId); };\n    deletePostButton.onclick = () => { deletePost(state, changeState, postId, postingUser); };\n  }\n\n  for (let j = 0; j < replies.length; j += 1) {\n    const reply = replies[j];\n    const replyId = reply.reply_id;\n\n    const flagReplyButton = document.getElementById(`flag-reply-${replyId}`);\n    const hideReplyButton = document.getElementById(`hide-reply-${replyId}`);\n    const deleteReplyButton = document.getElementById(`delete-reply-${replyId}`);\n    const editReplyButton = document.getElementById(`edit-reply-${replyId}`);\n\n    if (flagReplyButton) {\n      flagReplyButton.onclick = () => { flagReply(changeState, replyId); };\n      hideReplyButton.onclick = () => { hideReply(changeState, replyId); };\n      deleteReplyButton.onclick = () => { deleteReply(changeState, replyId); };\n      editReplyButton.onclick = () => { setEditComment(replyId); };\n    }\n  }\n};\n\nexport {\n  getGroup,\n  getAdmins,\n  revokeAdmin,\n  addAdmin,\n  inviteNonAdmin,\n  createPost,\n  getPosts,\n  parsePosts,\n  createReply,\n  getReplies,\n  parseReplies,\n  parseOnclicks,\n  leaveGroup,\n};\n","import { useState, useEffect, React } from 'react';\nimport {\n  getGroup,\n  getAdmins,\n  revokeAdmin,\n  addAdmin,\n  inviteNonAdmin,\n  createPost,\n  getPosts,\n  parsePosts,\n  getReplies,\n  parseReplies,\n  parseOnclicks,\n  leaveGroup,\n} from './ViewGroupModule';\nimport './ViewGroup.css';\n\n// eslint-disable-next-line\n\nfunction ViewGroup(props) {\n  // eslint-disable-next-line\n  const { changeState, state } = props;\n  // eslint-disable-next-line\n  const [selected, updateSelected] = useState('text');\n\n  const [groupAndAdmins, setGroupAndAdmins] = useState({ group: {}, admins: [] });\n  const [message, setMessage] = useState(' ');\n  const [editComment, setEditComment] = useState(-1);\n\n  const updateState = async () => {\n    const group = await getGroup(state.viewingGroup);\n    const admins = await getAdmins(state.viewingGroup);\n\n    setGroupAndAdmins(() => ({\n      group,\n      admins,\n    }));\n  };\n\n  const updateMessage = (newMessage) => {\n    setMessage(newMessage);\n  };\n\n  const processAdmins = (admins) => {\n    let adminLst = '';\n    admins.forEach((admin) => {\n      const toShow = (admin.is_creator === 1 ? `${admin.user_name} (creator)` : `${admin.user_name}`);\n\n      adminLst += (adminLst === '' ? `${toShow} ` : `, ${toShow}`);\n    });\n    return adminLst;\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  const [allPosts, setAllPosts] = useState([]);\n\n  const updatePosts = async () => {\n    const posts = await getPosts(changeState, state.viewingGroup);\n\n    setAllPosts(posts.result);\n    parsePosts(posts.result[0]);\n  };\n\n  const createPostObject = async () => {\n    // eslint-disable-next-line\n    const res = await createPost(changeState,\n      state.viewingGroup,\n      state.userId,\n      document.getElementById('postCaption').value,\n      selected,\n      updateState,\n      state.username,\n    );\n\n    const posts = await getPosts(changeState, state.viewingGroup);\n    // eslint-disable-next-line no-console\n    // console.log(`posts: ${JSON.stringify(posts.result[0])}`);\n\n    setAllPosts(posts.result[0]);\n\n    // eslint-disable-next-line no-console\n    console.log(`all posts: ${JSON.stringify(allPosts)}`);\n    changeState({ link: '/viewgroup' });\n  };\n\n  // eslint-disable-next-line no-unused-vars\n  const [allReplies, setAllReplies] = useState([]);\n\n  // eslint-disable-next-line no-unused-vars\n  const updateReplies = async () => {\n    const posts = await getPosts(changeState, state.viewingGroup);\n    const replies = await getReplies(changeState, state.viewingGroup);\n\n    setAllReplies(replies.result);\n    if (replies.result) {\n      parseReplies(posts.result[0], replies.result[0], editComment, setEditComment);\n      parseOnclicks(state, changeState, posts.result[0], replies.result[0], setEditComment);\n    }\n  };\n\n  const conditionalRender = () => {\n    if (selected === 'text') {\n      return (\n        <div id=\"form\">\n          <textarea id=\"postCaption\" placeholder=\"Post message to group\" />\n        </div>\n      );\n    }\n    if (selected === 'audio') {\n      return (\n        <div id=\"form\">\n          <textarea id=\"postCaption\" placeholder=\"Write a caption\" />\n          <input type=\"file\" id=\"postContent\" multiple accept=\"audio/*\" />\n        </div>\n      );\n    }\n    if (selected === 'video') {\n      return (\n        <div id=\"form\">\n          <textarea id=\"postCaption\" placeholder=\"Write a caption\" />\n          <input type=\"file\" id=\"postContent\" multiple accept=\"video/*\" />\n        </div>\n      );\n    }\n    if (selected === 'image') {\n      return (\n        <div id=\"form\">\n          <textarea id=\"postCaption\" placeholder=\"Write a caption\" />\n          <input type=\"file\" id=\"postContent\" multiple accept=\"image/*\" />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const updates = async () => {\n    await updateState();\n    await updatePosts();\n    await updateReplies();\n  };\n\n  useEffect(() => { updates(); }, [state, editComment]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div className=\"info-area\" id=\"info-area\">\n            <div className=\"group-view\">\n              <div className=\"group-info\">\n                <ul>\n                  <li id=\"group-id\">\n                    {`Group Id: ${groupAndAdmins.group.group_id}`}\n                  </li>\n                  <li id=\"group-name\">\n                    {`Group Name: ${groupAndAdmins.group.group_name}`}\n                  </li>\n                  <li id=\"group-description\">\n                    {`Group Description: ${groupAndAdmins.group.group_description}`}\n                  </li>\n                  <li id=\"group-admins\">\n                    {`Admins: ${processAdmins(groupAndAdmins.admins)}`}\n                  </li>\n                  <li id=\"is-public\">\n                    {(groupAndAdmins.group.is_public === 1 ? 'Public' : 'Private')}\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"join-group\" id=\"join-group-id\">\n              <input type=\"button\" value=\"Leave group\" id=\"submit\" onClick={() => leaveGroup(state.userId, groupAndAdmins.group.group_id, updateMessage)} />\n            </div>\n          </div>\n          {message}\n\n          <div className=\"view-area\" id=\"groups-area\">\n            <div id=\"revoke\">\n              { state.link.includes('/viewgroup/error') ? (<p>Error: cannot revoke creator of group</p>) : (null)}\n              <label htmlFor=\"revokeAdmin\">\n                {'Revoke Admin: '}\n                <input id=\"revokeAdmin\" type=\"text\" placeholder=\"Enter username\" />\n              </label>\n              <input type=\"button\" value=\"Submit\" id=\"submit\" onClick={() => revokeAdmin(state, changeState, groupAndAdmins, setGroupAndAdmins)} />\n            </div>\n            <div id=\"add\">\n              { state.link.includes('/viewgroup/admin') ? (<p>Error: potential admin is not a group member</p>) : (null)}\n              <label htmlFor=\"addAdmin\">\n                {'Add Admin: '}\n                <input id=\"addAdmin\" type=\"text\" placeholder=\"Enter username\" />\n              </label>\n              <input type=\"button\" value=\"Submit\" id=\"submit\" onClick={() => addAdmin(groupAndAdmins, setGroupAndAdmins, changeState)} />\n            </div>\n            <div id=\"add-non-admin\">\n              <label htmlFor=\"addNonAdmin\">\n                Invite a non-Admin member:\n                <input id=\"addNonAdmin\" type=\"text\" placeholder=\"Enter username\" />\n              </label>\n              <input type=\"button\" value=\"Submit\" id=\"submit\" onClick={() => inviteNonAdmin(groupAndAdmins, state, setGroupAndAdmins)} />\n            </div>\n          </div>\n\n          <div className=\"posts-area\">\n            <div className=\"text-input\">\n              Create Post:\n              { state.link.includes('/viewgroup/post/error') ? (<p>Error: post is too large</p>) : (null)}\n              <div id=\"options\">\n                <label htmlFor=\"textInput\" className=\"list\">\n                  <input type=\"radio\" id=\"textInput\" name=\"msgType\" onClick={() => updateSelected('text')} />\n                  Text message\n                </label>\n                <label htmlFor=\"audioInput\" className=\"list\">\n                  <input type=\"radio\" id=\"audioInput\" name=\"msgType\" onClick={() => updateSelected('audio')} />\n                  Audio message\n                </label>\n                <label htmlFor=\"videoInput\" className=\"list\">\n                  <input type=\"radio\" id=\"videoInput\" name=\"msgType\" onClick={() => updateSelected('video')} />\n                  Video message\n                </label>\n                <label htmlFor=\"imageInput\" className=\"list\">\n                  <input type=\"radio\" id=\"imageInput\" name=\"msgType\" onClick={() => updateSelected('image')} />\n                  Image message\n                </label>\n              </div>\n              {conditionalRender()}\n              <button className=\"post-button\" type=\"submit\" onClick={() => createPostObject()}> Post Message </button>\n            </div>\n            <div className=\"posts\" id=\"posts-area\" />\n          </div>\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default ViewGroup;\n","import { useState, useEffect, React } from 'react';\nimport './InvitationPage.css';\n\nconst lib = require('./InvitationModule');\n\nfunction InvitationPage(props) {\n  const { changeState, state } = props;\n  const [pendingInvitations, setPendingInvitations] = useState([]);\n  const [invitationsToReview, setInvitationsToReview] = useState([]);\n  const [message, setMessage] = useState('test');\n\n  const updatePendingInvitations = async () => {\n    let i = await lib.getPendingInvitations(state.userId);\n    i = await lib.getGroupNames(i);\n\n    // setInvitations([{ id: 1, groupName: 'testGroup!' }]);\n    setPendingInvitations(i);\n  };\n\n  const updateInvitationsToReview = async () => {\n    const fetchedInvitationsToReview = await lib.getInvitationsToReview(state.userId);\n    setInvitationsToReview(fetchedInvitationsToReview);\n  };\n\n  const updateMessage = (newMessage) => {\n    setMessage(newMessage);\n  };\n\n  // eslint-disable-next-line\n  // console.log('invitations now at: ', invitations);\n\n  useEffect(() => {\n    updatePendingInvitations();\n    updateInvitationsToReview();\n  }, []);\n\n  return (\n    <div className=\"container\">\n\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div id=\"message\">\n            {message}\n          </div>\n          <div>\n            Invitations to review for groups for which you&apos;re an admin:\n          </div>\n          {invitationsToReview.map((invReview) => (\n            <div className=\"notification\" key={invReview.invitation_id}>\n              <div className=\"title\">\n                Review accepted invitation\n              </div>\n              <div className=\"info\">\n                <div className=\"invite-message\">\n                  { `${invReview.user_name} has accepted an invitation to join ${invReview.group_name}. Do you approve their membership?  ` }\n                </div>\n                <button className=\"approve-invitation\" type=\"button\" onClick={() => lib.approveInvite(invReview, updateInvitationsToReview, updateMessage)}> Accept </button>\n                <button className=\"decline-invitation\" type=\"button\" onClick={() => lib.notApproveInvite(invReview, updateInvitationsToReview, updateMessage)}> Decline </button>\n              </div>\n            </div>\n          ))}\n          <div>\n            Group invitations extended to you:\n          </div>\n          {pendingInvitations.map((inv) => (\n            <div className=\"notification\" key={inv.invitation_id}>\n              <div className=\"title\">\n                Invitation\n              </div>\n              <div className=\"info\">\n                <div className=\"invite-message\">\n                  { `You have been invited to join group ${inv.groupName}. Do you accept?  ` }\n                </div>\n                <button className=\"accept-invitation\" type=\"button\" onClick={() => lib.acceptInvite(inv, updatePendingInvitations, updateMessage, state.userId)}> Accept </button>\n                <button className=\"decline-invitation\" type=\"button\" onClick={() => lib.declineInvite(inv.invitation_id, inv.groupName, updatePendingInvitations, updateMessage)}> Decline </button>\n              </div>\n            </div>\n          ))}\n\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default InvitationPage;\n","import React, { useState } from 'react';\n\nconst { deactivateAccount } = require('./DeactivateModule');\n\nconst DeactivateAccountPage = (props) => {\n  const { state, changeState } = props;\n  const { userId } = state;\n  const [message, mutateMessage] = useState('Are you sure you want to deactivate your account? This pretty much deletes everything');\n\n  const updateMessage = (newMessage) => {\n    mutateMessage(newMessage);\n  };\n\n  return (\n    <div>\n      <div>\n        <p />\n        {message}\n        <p />\n      </div>\n      <input id=\"deactivateAccountButton\" type=\"submit\" value=\"Deactivate Account\" onClick={() => deactivateAccount(userId, updateMessage, changeState)} />\n    </div>\n  );\n};\n\nexport default DeactivateAccountPage;\n","import sendUploadPostRequest from '../UploadModule';\n\nconst database = require('../DatabaseModule');\n\nconst getConvos = async (id) => {\n  const response = await database.sendGetRequest(`/convo/${id}`);\n  const convoInfo = [];\n  for (let i = 0; i < response.length; i += 1) {\n    let otherId = -1;\n    let otherName = '';\n    if (response[i].user1 === id) {\n      otherId = response[i].user2;\n      otherName = response[i].user2Name;\n    } else {\n      otherName = response[i].user1Name;\n      otherId = response[i].user1;\n    }\n\n    convoInfo.push({ ...response[i], otherName, otherId });\n  }\n\n  return convoInfo;\n};\n\nconst parseConvos = (changeState, convos) => {\n  // remove all children in the box\n  if (convos.length !== 0) {\n    const element = document.getElementById('view-convos');\n\n    if (element) {\n      while (element.firstChild) {\n        element.removeChild(element.firstChild);\n      }\n    }\n  }\n\n  for (let i = 0; i < convos.length; i += 1) {\n    const convoBlock = `<div class=\"convo-container\">\n      <div class=\"convo-info\"> <ul> <li id=\"convo-name\">Messages with: ${convos[i].otherName} </li> </ul> </div> </div>`;\n    const div = document.createElement('div');\n    div.innerHTML = convoBlock;\n    div.onclick = () => {\n      changeState({ link: '/conversation', viewingConvo: { id: convos[i].convoId, otherUserId: convos[i].otherId } });\n    };\n\n    document.getElementById('view-convos').appendChild(div);\n  }\n};\n\nconst uploadMediaConvo = async (selected, state, updateMessages, updateState) => {\n  const file = document.getElementById('firstMsg').files[0];\n\n  // check if the file is too large (defined as > 10MB)\n  if (selected === 'image' && file.size > 10000000) {\n    updateState({ link: '/messages/img' });\n    return null;\n  } if ((selected === 'audio' || selected === 'video') && file.size > 100000000) {\n    updateState({ link: '/messages/av' });\n    return null;\n  }\n\n  const data = new FormData();\n  data.append('file', file);\n  data.append('upload_preset', ['yj7lgb8v']);\n  sendUploadPostRequest(`https://api.cloudinary.com/v1_1/cis557-project-group-18/${selected === 'image' ? 'image' : 'video'}/upload`, data).then((mediaUrl) => {\n    // eslint-disable-next-line no-console\n    console.log('SENT MEDIA');\n    // creates conversation in database\n    return database.sendGetRequest(`/user-by-name/${document.getElementById('otherName').value}`).then((resp) => {\n      if (resp.length === 0) {\n        // MAYBE MAKE THIS THE ERROR PAGE DUDE?!?!?!?!?!\n        updateState({ link: '/messages/user' });\n        return null;\n      }\n\n      const otherId = resp[0].user_id;\n\n      const msg = {\n        toId: otherId,\n        fromId: state.userId,\n        senderName: state.username,\n        receiverName: resp[0].user_name,\n      };\n\n      if (selected === 'image') {\n        msg.img = mediaUrl.data.url;\n      } else if (selected === 'video') {\n        msg.video = mediaUrl.data.url;\n      } else {\n        msg.audio = mediaUrl.data.url;\n      }\n\n      return database.sendPostRequest(`/message/${selected}/${otherId}`, { msg }).then((response) => {\n        if (typeof response.err !== 'undefined' && response.err === 'self') {\n          updateState({ link: '/messages/error' });\n          return null;\n        }\n        if (typeof response.err !== 'undefined' && response.err === 'group') {\n          updateState({ link: '/messages/group' });\n          return null;\n        }\n\n        return updateMessages().then(() => response);\n      });\n    });\n  });\n  return null;\n};\n\nconst startConvo = async (selected, state, updateMessages, updateState) => {\n  if (selected === 'audio') {\n    return uploadMediaConvo(selected, state, updateMessages, updateState);\n  }\n  if (selected === 'video') {\n    return uploadMediaConvo(selected, state, updateMessages, updateState);\n  }\n  if (selected === 'image') {\n    return uploadMediaConvo(selected, state, updateMessages, updateState);\n  }\n\n  // creates conversation in database\n  const res = await database.sendGetRequest(`/user-by-name/${document.getElementById('otherName').value}`);\n  if (res.length === 0) {\n    updateState({ link: '/messages/user' });\n    return null;\n  }\n\n  const otherId = res[0].user_id;\n\n  const msg = {\n    toId: otherId,\n    fromId: state.userId,\n    senderName: state.username,\n    receiverName: res[0].user_name,\n    txt: document.getElementById('firstMsg').value,\n  };\n\n  const response = await database.sendPostRequest(`/message/text/${otherId}`, { msg });\n\n  if (typeof response.err !== 'undefined' && response.err === 'self') {\n    updateState({ link: '/messages/error' });\n    return null;\n  }\n  if (typeof response.err !== 'undefined' && response.err === 'group') {\n    updateState({ link: '/messages/group' });\n    return null;\n  }\n\n  await updateMessages();\n\n  return response;\n};\n\nexport {\n  getConvos,\n  parseConvos,\n  startConvo,\n};\n","import { useState, useEffect, React } from 'react';\nimport { getConvos, parseConvos, startConvo } from './MessagesModule';\nimport './Messages.css';\n\nfunction Messages(props) {\n  // eslint-disable-next-line\n  const [msgs, updateMsgs] = useState([]);\n  const [selected, updateSelected] = useState('text');\n  const { changeState, state } = props;\n\n  const updateMessages = async () => {\n    const convos = await getConvos(state.userId);\n    updateMsgs(convos);\n    parseConvos(changeState, convos);\n  };\n\n  useEffect(() => { updateMessages(); }, []);\n\n  const conditionalRender = () => {\n    if (selected === 'text') {\n      return (\n        <div id=\"form\">\n          <input type=\"text\" id=\"otherName\" placeholder=\"your friend's username\" />\n          <textarea id=\"firstMsg\" placeholder=\"type in a message!\" />\n          <button type=\"submit\" id=\"sendFirstMsg\" onClick={() => startConvo(selected, state, updateMessages, changeState)}>Start conversation!</button>\n        </div>\n      );\n    }\n    if (selected === 'audio') {\n      return (\n        <div id=\"form\">\n          <input type=\"text\" id=\"otherName\" placeholder=\"your friend's username\" />\n          <input type=\"file\" id=\"firstMsg\" multiple accept=\"audio/*\" />\n          <button type=\"submit\" id=\"sendFirstMsg\" onClick={() => startConvo(selected, state, updateMessages, changeState)}>Start conversation!</button>\n        </div>\n      );\n    }\n    if (selected === 'video') {\n      return (\n        <div id=\"form\">\n          <input type=\"text\" id=\"otherName\" placeholder=\"your friend's username\" />\n          <input type=\"file\" id=\"firstMsg\" multiple accept=\"video/*\" />\n          <button type=\"submit\" id=\"sendFirstMsg\" onClick={() => startConvo(selected, state, updateMessages, changeState)}>Start conversation!</button>\n        </div>\n      );\n    }\n    if (selected === 'image') {\n      return (\n        <div id=\"form\">\n          <input type=\"text\" id=\"otherName\" placeholder=\"your friend's username\" />\n          <input type=\"file\" id=\"firstMsg\" multiple accept=\"image/*\" />\n          <button type=\"submit\" id=\"sendFirstMsg\" onClick={() => startConvo(selected, state, updateMessages, changeState)}>Start conversation!</button>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div className=\"info-area\">\n            Start a new conversation!\n            <br />\n            {window.location.href.split('/').pop() === 'error' ? 'ERROR sending message: cannot message self.' : null}\n            {window.location.href.split('/').pop() === 'group' ? 'ERROR sending message: cannot message user not in a group with you.' : null}\n            {window.location.href.split('/').pop() === 'user' ? 'ERROR sending message: cannot message to user that does not exist.' : null}\n            {window.location.href.split('/').pop() === 'img' ? 'ERROR sending message: image file too large.' : null}\n            {window.location.href.split('/').pop() === 'av' ? 'ERROR sending message: audio/video file too large.' : null}\n            <div>\n              <label htmlFor=\"textInput\" className=\"list\">\n                <input type=\"radio\" id=\"textInput\" name=\"msgType\" onClick={() => updateSelected('text')} />\n                Text message\n              </label>\n              <label htmlFor=\"audioInput\" className=\"list\">\n                <input type=\"radio\" id=\"audioInput\" name=\"msgType\" onClick={() => updateSelected('audio')} />\n                Audio message\n              </label>\n              <label htmlFor=\"videoInput\" className=\"list\">\n                <input type=\"radio\" id=\"videoInput\" name=\"msgType\" onClick={() => updateSelected('video')} />\n                Video message\n              </label>\n              <label htmlFor=\"imageInput\" className=\"list\">\n                <input type=\"radio\" id=\"imageInput\" name=\"msgType\" onClick={() => updateSelected('image')} />\n                Image message\n              </label>\n            </div>\n            {conditionalRender()}\n          </div>\n\n          <div className=\"convo-area\" id=\"view-convos\">\n            You do not have any messages :(\n          </div>\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Messages;\n","import sendUploadPostRequest from '../UploadModule';\n\nconst database = require('../DatabaseModule');\n\nconst getMessages = async (convoId, user) => {\n  const response = await database.sendGetRequest(`/message/${convoId}/${user}`);\n  return response;\n};\n\nconst parseMessages = (msgs, id) => {\n  // remove all children in the box\n  if (msgs.length !== 0) {\n    const element = document.getElementById('view-msgs');\n\n    if (element) {\n      while (element.firstChild) {\n        element.removeChild(element.firstChild);\n      }\n    }\n  }\n\n  for (let i = 0; i < msgs.length; i += 1) {\n    let msg = `${msgs[i].senderName}`;\n    if (msgs[i].txt !== null) {\n      msg += `<div class=\"content txt\">\n          ${msgs[i].txt}\n        </div>`;\n    } else if (msgs[i].img !== null) {\n      msg += `<div class=\"content txt\">\n          <img src=${msgs[i].img} class=\"image\" alt=\"${msgs[i].senderName}'s image\" />\n        </div>`;\n    } else if (msgs[i].audio !== null) {\n      msg += `<div class=\"content txt\">\n          <audio controls>\n            <source src=${msgs[i].audio}>\n          </audio>\n        </div>`;\n    } else if (msgs[i].video !== null) {\n      msg += `<div class=\"content txt\">\n          <video src=${msgs[i].video} controls>\n            Something went wrong!\n          </video>\n        </div>`;\n    }\n    if (id === msgs[i].fromId) {\n      const isDeliveredDateFormat = `${new Date(Date.parse(msgs[i].isDelivered)).getMonth()}-${new Date(Date.parse(msgs[i].isDelivered)).getDate()}-${new Date(Date.parse(msgs[i].isDelivered)).getFullYear()} at ${new Date(Date.parse(msgs[i].isDelivered)).getHours()}:${new Date(Date.parse(msgs[i].isDelivered)).getMinutes() < 10 ? `0${new Date(Date.parse(msgs[i].isDelivered)).getMinutes()}` : new Date(Date.parse(msgs[i].isDelivered)).getMinutes()}`;\n      const isReadDateFormat = `${new Date(Date.parse(msgs[i].isRead)).getMonth()}-${new Date(Date.parse(msgs[i].isRead)).getDate()}-${new Date(Date.parse(msgs[i].isRead)).getFullYear()} at ${new Date(Date.parse(msgs[i].isRead)).getHours()}:${new Date(Date.parse(msgs[i].isRead)).getMinutes() < 10 ? `0${new Date(Date.parse(msgs[i].isRead)).getMinutes()}` : new Date(Date.parse(msgs[i].isRead)).getMinutes()}`;\n      msg += `${msgs[i].isRead === null ? `Delivered ${isDeliveredDateFormat}` : `Read ${isReadDateFormat}`}`;\n    }\n\n    const div = document.createElement('div');\n    div.className = 'msg';\n    div.id = (id === msgs[i].fromId ? 'i-sent' : 'they-sent');\n    div.innerHTML = msg;\n    document.getElementById('view-msgs').appendChild(div);\n  }\n};\n\nconst uploadMediaConvo = async (selected, state, updateMessages, updateState) => {\n  const file = document.getElementById('firstMsg').files[0];\n\n  // check if the file is too large (defined as > 10MB)\n  if (selected === 'image' && file.size > 10000000) {\n    updateState({ link: '/conversation/img' });\n    return null;\n  }\n  if ((selected === 'audio' || selected === 'video') && file.size > 100000000) {\n    updateState({ link: '/conversation/av' });\n    return null;\n  }\n\n  const data = new FormData();\n  data.append('file', file);\n  data.append('upload_preset', ['yj7lgb8v']);\n  sendUploadPostRequest(`https://api.cloudinary.com/v1_1/cis557-project-group-18/${selected === 'image' ? 'image' : 'video'}/upload`, data).then((mediaUrl) => {\n    // creates conversation in database\n\n    const msg = {\n      toId: state.viewingConvo.otherUserId,\n      fromId: state.userId,\n      senderName: state.username,\n    };\n\n    if (selected === 'image') {\n      msg.img = mediaUrl.data.url;\n    } else if (selected === 'video') {\n      msg.video = mediaUrl.data.url;\n    } else {\n      msg.audio = mediaUrl.data.url;\n    }\n\n    return database.sendPostRequest(`/message/${selected}/${state.viewingConvo.otherUserId}`, { msg })\n      .then((response) => {\n        updateMessages().then(() => response);\n      });\n  });\n\n  return null;\n};\n\nconst sendMessage = async (updateConvo, selected, state, updateState) => {\n  if (selected === 'audio') {\n    return uploadMediaConvo(selected, state, updateConvo, updateState);\n  }\n  if (selected === 'video') {\n    return uploadMediaConvo(selected, state, updateConvo, updateState);\n  }\n  if (selected === 'image') {\n    return uploadMediaConvo(selected, state, updateConvo, updateState);\n  }\n\n  const msg = {\n    toId: state.viewingConvo.otherUserId,\n    fromId: state.userId,\n    senderName: state.username,\n  };\n\n  const txt = document.getElementById('firstMsg').value;\n  msg.txt = txt;\n  const response = await database.sendPostRequest(`/message/text/${state.viewingConvo.otherUserId}`, { msg });\n\n  await updateConvo();\n\n  return response;\n};\n\nexport {\n  getMessages,\n  parseMessages,\n  sendMessage,\n};\n","import { useState, useEffect, React } from 'react';\nimport { getMessages, parseMessages, sendMessage } from './ConversationModule';\nimport './Conversation.css';\n\nfunction Conversation(props) {\n  const { changeState, state } = props;\n  // eslint-disable-next-line\n  const [selected, updateSelected] = useState('text');\n\n  // eslint-disable-next-line\n  const [message, setMessage] = useState([]);\n\n  const updateState = async () => {\n    const msgs = await getMessages(state.viewingConvo.id, state.userId);\n\n    setMessage(msgs);\n    parseMessages(msgs, state.userId);\n    document.getElementById('view-msgs').scrollTop = document.getElementById('view-msgs').scrollHeight;\n  };\n\n  const conditionalRender = () => {\n    if (selected === 'text') {\n      return (\n        <textarea id=\"firstMsg\" placeholder=\"type in a message!\" />\n      );\n    }\n    if (selected === 'audio') {\n      return (\n        <input type=\"file\" id=\"firstMsg\" multiple accept=\"audio/*\" />\n      );\n    }\n    if (selected === 'video') {\n      return (\n        <input type=\"file\" id=\"firstMsg\" multiple accept=\"video/*\" />\n      );\n    }\n    if (selected === 'image') {\n      return (\n        <input type=\"file\" id=\"firstMsg\" multiple accept=\"image/*\" />\n      );\n    }\n    return null;\n  };\n\n  useEffect(() => { updateState(); }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div id=\"view-msgs\">\n            You do not have any messages! Send a message.\n          </div>\n          <div id=\"send-msg\">\n            {window.location.href.split('/').pop() === 'img' ? 'ERROR sending message: image file too large' : null}\n            {window.location.href.split('/').pop() === 'av' ? 'ERROR sending message: audio/video file size too large' : null}\n            <div id=\"options\">\n              <label htmlFor=\"textInput\" className=\"list\">\n                <input type=\"radio\" id=\"textInput\" name=\"msgType\" onClick={() => updateSelected('text')} />\n                Text message\n              </label>\n              <label htmlFor=\"audioInput\" className=\"list\">\n                <input type=\"radio\" id=\"audioInput\" name=\"msgType\" onClick={() => updateSelected('audio')} />\n                Audio message\n              </label>\n              <label htmlFor=\"videoInput\" className=\"list\">\n                <input type=\"radio\" id=\"videoInput\" name=\"msgType\" onClick={() => updateSelected('video')} />\n                Video message\n              </label>\n              <label htmlFor=\"imageInput\" className=\"list\">\n                <input type=\"radio\" id=\"imageInput\" name=\"msgType\" onClick={() => updateSelected('image')} />\n                Image message\n              </label>\n            </div>\n            { conditionalRender() }\n            <button type=\"submit\" id=\"sendMsgButton\" onClick={() => sendMessage(updateState, selected, state, changeState)}>Send</button>\n          </div>\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Conversation;\n","import { useState, useEffect, React } from 'react';\nimport './AnalyticsPage.css';\n\nconst lib = require('./AnalyticsModule');\n\nconst updateFacts = async (setGroupFacts, setPostFacts) => {\n  const newGroupFacts = await lib.getGroupAnalyticsFacts();\n  setGroupFacts(newGroupFacts);\n\n  const newPostFacts = await lib.getPostAnalyticsFacts();\n  setPostFacts(newPostFacts);\n};\n\nfunction AnalyticsPage(props) {\n  const { changeState, state } = props;\n  const [groupFacts, setGroupFacts] = useState([]);\n  const [postFacts, setPostFacts] = useState([]);\n\n  useEffect(() => {\n    updateFacts(setGroupFacts, setPostFacts);\n  }, []);\n\n  return (\n    <div className=\"container\">\n\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n          <div>\n            Super advanced group analytics:\n          </div>\n          {groupFacts.map((fact) => (\n            <div key={fact[0]}>\n              {`${fact[0]}: ${fact[1]}`}\n            </div>\n          ))}\n          <p />\n          <div>\n            Equally advanced post analytics:\n          </div>\n          {postFacts.map((fact) => (\n            <div key={fact[0]}>\n              {`${fact[0]}: ${fact[1]}`}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default AnalyticsPage;\n","import { React, useEffect } from 'react';\nimport './FlaggedPosts.css';\n\nconst lib = require('./FlaggedPostsModule');\n\nfunction FlaggedPosts(props) {\n  const { changeState, state } = props;\n\n  const update = async () => {\n    const flagged = await lib.getFlaggedPostsForReview(state);\n    lib.parseFlaggedPosts(flagged, changeState);\n  };\n  useEffect(() => { update(); }, [state]);\n\n  return (\n    <div className=\"container\">\n\n      <div className=\"header\">\n        <div className=\"social-media-title\">Social Media</div>\n        <div className=\"profile-picture\">\n          <div className=\"img\" />\n        </div>\n        <div className=\"username\">{`Hi, ${state.username}!`}</div>\n      </div>\n\n      <div className=\"top-navbar\">\n        <div className=\"home-link\" onClick={() => changeState({ link: '/main' })} onKeyDown={() => changeState({ link: '/main' })} role=\"link\" tabIndex={0}>Home</div>\n        <div className=\"profile-link\" onClick={() => changeState({ link: '/profile' })} onKeyDown={() => changeState({ link: '/profile' })} role=\"link\" tabIndex={0}>Profile</div>\n      </div>\n\n      <div className=\"main-container\">\n\n        <div className=\"side-navbar\">\n          <button type=\"submit\" className=\"notifications\" onClick={() => changeState({ link: '/notifications' })}>Notifications</button>\n          <button type=\"submit\" className=\"events\" onClick={() => changeState({ link: '/analytics' })}>Analytics</button>\n          <button type=\"submit\" className=\"groups\" onClick={() => changeState({ link: '/groups' })}>Groups</button>\n          <button type=\"submit\" className=\"invitations\" onClick={() => changeState({ link: '/invitations' })}>Group Invitations and Requests </button>\n          <button type=\"submit\" className=\"photos\" onClick={() => changeState({ link: '/flaggedposts' })}>Flagged posts</button>\n        </div>\n\n        <div className=\"main-area\">\n\n          <div className=\"post-flag-area\" id=\"post-create-area\">\n            No posts have been flagged! You are off the hook :D\n          </div>\n        </div>\n\n        <div className=\"side-navbar\" id=\"forMessages\">\n          <button type=\"submit\" className=\"messages\" onClick={() => changeState({ link: '/messages' })}>Messages</button>\n          <button type=\"submit\" className=\"logout\" onClick={() => changeState({ link: '/' })}>Log out</button>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default FlaggedPosts;\n","import React, { useState } from 'react';\nimport LoginPage from './login-page/LoginPage';\nimport Home from './home-page/Home';\nimport ProfilePage from './profile-page/ProfilePage';\nimport Groups from './groups-page/Groups';\nimport NotificationPage from './notifications-page/NotificationPage';\nimport UpdatePassword from './profile-page/UpdatePassword';\nimport ViewGroup from './view-group-page/ViewGroup';\nimport InvitationPage from './invitations-page/InvitationPage';\nimport DeactivateAccountPage from './profile-page/deactivate-account-page/DeactivateAccountPage';\nimport Messages from './messages-page/Messages';\nimport Conversation from './conversation-page/Conversation';\nimport AnalyticsPage from './analytics-page/AnalyticsPage';\nimport FlaggedPosts from './flagged-posts/FlaggedPosts';\n\nfunction MainPage() {\n  const [state, updateState] = useState(\n    {\n      link: '/',\n      userId: -1,\n      username: '',\n      viewingGroup: -1,\n      viewingConvo: { id: -1, otherUserId: -1 },\n    },\n  );\n\n  const changeState = (input) => {\n    if (typeof input.link !== 'undefined') window.history.pushState(null, '', input.link);\n    updateState((oldState) => ({\n      link: ((typeof input.link !== 'undefined') ? input.link : oldState.link),\n      userId: ((typeof input.userId !== 'undefined') ? input.userId : oldState.userId),\n      username: ((typeof input.username !== 'undefined') ? input.username : oldState.username),\n      viewingGroup: ((typeof input.viewingGroup !== 'undefined') ? input.viewingGroup : oldState.viewingGroup),\n      viewingConvo: ((typeof input.viewingConvo !== 'undefined') ? input.viewingConvo : oldState.viewingConvo),\n    }));\n  };\n\n  const conditionallyRender = (url) => {\n    if (url.includes('/profile')) {\n      return (<ProfilePage changeState={changeState} state={state} />);\n    }\n    if (url.includes('/home') || url.includes('/main')) {\n      return (<Home changeState={changeState} state={state} />);\n    }\n    if (url.includes('/groups')) {\n      return (<Groups changeState={changeState} state={state} />);\n    }\n    if (url.includes('/notifications')) {\n      return (<NotificationPage changeState={changeState} state={state} />);\n    }\n    if (url.includes('/messages') || url.includes('/messages/error') || url.includes('/messages/group') || url.includes('/messages/user') || url.includes('/messages/img') || url.includes('/messages/av')) {\n      return (<Messages changeState={changeState} state={state} />);\n    }\n    if (url.includes('/conversation') || url.includes('/conversation/img') || url.includes('/conversation/av')) {\n      return (<Conversation changeState={changeState} state={state} />);\n    }\n    if (url.includes('/changepassword')) {\n      return (<UpdatePassword changeState={changeState} state={state} userId={state.userId} />);\n    }\n    if (url.includes('/viewgroup') || url.includes('/viewgroup/error') || url.includes('/viewgroup/post/error') || url.includes('/viewgroup/admin')) {\n      return (<ViewGroup changeState={changeState} state={state} />);\n    }\n    if (url.includes('/invitations')) {\n      return (<InvitationPage changeState={changeState} state={state} />);\n    }\n    if (url.includes('/deactivate-account')) {\n      return (<DeactivateAccountPage changeState={changeState} state={state} />);\n    }\n    if (url.includes('/flaggedposts')) {\n      return (<FlaggedPosts changeState={changeState} state={state} />);\n    }\n    if (url.includes('/analytics')) {\n      return (<AnalyticsPage changeState={changeState} state={state} />);\n    }\n    const last = url.split('/').pop();\n    const first = url.split('/')[3];\n    if (url.includes('/loginchangepassword') || url.includes('/registration') || last === '' || url.includes('/registration/error') || first === 'error' || first === 'locked') {\n      return (<LoginPage changeState={changeState} state={state} />);\n    }\n    // TODO: change this to something meaningful\n    // will become a page that's like Oh this is not available!\n    return state;\n  };\n\n  return (\n    conditionallyRender(window.location.href)\n  );\n}\n\nexport default MainPage;\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// import { BrowserRouter } from 'react-router-dom';\r\nimport MainPage from './MainPage';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MainPage />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","const { createHash } = require('crypto');\r\nconst database = require('../DatabaseModule');\r\nconst lib = require('../registration-page/RegistrationModule');\r\n\r\nconst verifyUser = async (changeState, username, password, addAttempt, attempt) => {\r\n  const newUser = {\r\n    user_name: username,\r\n    user_password: createHash('sha256').update(password).digest('hex'),\r\n    attempt,\r\n  };\r\n\r\n  const user = await database.sendPostRequest('/login', newUser);\r\n  if (user.err === undefined) {\r\n    // TODO: will eventually have to send the profile to the MainPage state (from response)\r\n    changeState({ link: '/main', userId: user.profile[0].user_id, username: newUser.user_name });\r\n    // eslint-disable-next-line no-console\r\n    console.log(`userid is: ${user.profile[0].user_id}`);\r\n  } else if (user.err.includes('locked') || user.err.includes('jail')) {\r\n    changeState({ link: '/locked' });\r\n  } else {\r\n    addAttempt(attempt + 1);\r\n    changeState({ link: '/error' });\r\n  }\r\n};\r\n\r\nconst changePassword = async (changeState, username, password1, password2) => {\r\n  if (lib.validatePassword(changeState, password1, password2, '/loginchangepassword/invalid')) {\r\n    const toUserId = await database.sendGetRequest(`/user-by-name/${username}`);\r\n    if (toUserId.length === 0) {\r\n      changeState({ link: '/loginchangepassword/user' });\r\n      return;\r\n    }\r\n\r\n    await database.sendPutRequest(`/user/${toUserId[0].user_id}`, { user_password: createHash('sha256').update(password1).digest('hex') });\r\n\r\n    changeState({ link: '/' });\r\n  }\r\n};\r\n\r\nmodule.exports = { verifyUser, changePassword };\r\n"],"sourceRoot":""}